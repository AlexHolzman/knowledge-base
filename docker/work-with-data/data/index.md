---
metaTitle: Хранилище данных в Docker
metaDescription: Узнайте как работать с хранилищем данных в Docker - основные концепции доступные методы и примеры реализации подходов
author: Олег Марков
title: Хранилище данных в Docker
preview: Погрузитесь в мир хранилищ данных в Docker изучая подходы к обеспечению устойчивости данных и примеры настройки Volumes
---

## Введение

Если вы только начинаете свой путь в мир контейнеризации, одним из первых вопросов, который может возникнуть у вас, будет: "Как Docker работает с данными?" Docker известен своей легкостью и возможностью разворачивать приложения где угодно, но как насчет данных? Давайте разберемся с этим вопросом и выясним, какие методы Docker предлагает для хранения данных, а также как можно эффективно использовать их на практике.

Docker предоставляет несколько механизмов для работы с данными в контейнерах, позволяя использовать и сохранять данные за пределами жизненного цикла контейнера. Это значит, что вы можете удалить контейнер и создать вновь, и при этом продолжите иметь доступ к данным, которые были созданы или изменены ранее.

Чтобы достичь этого, Docker предлагает такие инструменты, как Volumes, Bind Mounts и tmpfs Mounts. Мы рассмотрим каждый из этих методов, чтобы вы могли выбрать подходящий для вашего конкретного случая. 

Понимание основ хранилища данных крайне важно, но для эффективного управления данными в Docker необходимо знание Docker Volumes, сетей и оркестрации. Если вы хотите детальнее погрузиться в мир Docker — приходите на наш большой курс [Docker + Ansible - с нуля](https://purpleschool.ru/course/docker?utm_source=knowledgebase&utm_medium=text&utm_campaign=Khranilishche_dannykh_v_Docker). На курсе 159 уроков и 7 упражнений, AI-тренажеры для безлимитной практики с кодом и задачами 24/7, решение задач с живым ревью наставника, еженедельные встречи с менторами. Вы научитесь настраивать тома, работать с сетями, создавать Dockerfile и оркестровать контейнеры.

## Volumes в Docker

Volumes являются предпочтительным методом хранения данных в Docker, поскольку они предоставляют более гибкие и безопасные возможности.

### Создание и использование Volumes

Volumes управляются Docker и хранятся в определенных местах на хосте, что делает их независимыми от контейнеров, в которых они используются. Посмотрите, как это выглядит на практике:

```bash
# Создаем новый Volume
docker volume create my-volume

# Запускаем контейнер и монтируем Volume в него
docker run -d -v my-volume:/app/data my-image
```

// В этом коде создается новый Volume с именем my-volume и монтируется в контейнер по пути /app/data

### Преимущества Volumes

Они имеют множество преимуществ:

- **Переносимость данных**: Volumes легко переносить среди различных хостов даже в такие среды, как Swarm.
- **Производительность**: Они оптимизированы для конкретных приложений.
- **Работа с кластерами**: Volumes поддерживают работу с различными инструментами оркестрации контейнеров.

## Bind Mounts

Следующий способ работы с данными в Docker - это Bind Mounts. Они более просты, чем Volumes, но менее гибкие.

### Использование Bind Mounts

Bind Mounts монтируют файл или директорию с хост-машины в контейнер. Давайте посмотрим на пример:

```bash
docker run -d \
  --mount type=bind,source=/path/on/host,target=/path/in/container \
  my-image
```

// В этом примере мы монтируем директорию на хосте /path/on/host в контейнер по пути /path/in/container

### Когда использовать Bind Mounts

Bind Mounts полезны, когда необходимо предоставить доступ к конкретной директории из контейнера или менять конфигурации в реальном времени.

## tmpfs Mounts

Этот вариант полезен, когда данные должны быть временными и не сохраняться после перезапуска контейнера.

### Пример tmpfs Mounts

```bash
docker run -d \
  --tmpfs /app/tmp \
  my-image
```

// В этом примере создается временное хранилище внутри контейнера в каталоге /app/tmp

tmpfs Mounts лучше всего использовать для временных данных, которые должны существовать только на протяжении жизненного цикла контейнера.

## Параметры Docker Compose для работы с данными

Docker Compose упрощает определение и запуск много-контейнерных Docker приложений. Давайте посмотрим, как конфигурировать хранение данных:

### Пример конфигурации

```yaml
version: '3'
services:
  web:
    image: my-image
    volumes:
      - my-volume:/app/data
volumes:
  my-volume:
```

// Здесь мы определяем сервис web, который использует Volume my-volume, а также описываем сам Volume в нижней части файла

Этот подход делает вашу конфигурацию чистой и независимой, сохраняя коды от избыточности.

## Заключение

В этой статье мы рассмотрели различные варианты хранения данных в Docker. Мы познакомились с Volumes, Bind Mounts и tmpfs Mounts, узнав их преимущества и подходящие случаи использования. Понимание того, как работает Docker с данными, поможет вам развивать свои приложения более устойчиво и эффективно. Мы советуем начать с Volumes, так как они наиболее универсальные и безопасные для большинства сценариев.

Правильное использование хранилищ данных значительно упрощает разработку и развертывание приложений в Docker, но для автоматизации рутинных задач и масштабирования инфраструктуры необходим Ansible. На нашем курсе [Docker + Ansible - с нуля](https://purpleschool.ru/course/docker?utm_source=knowledgebase&utm_medium=text&utm_campaign=Khranilishche_dannykh_v_Docker) вы научитесь интегрировать Docker с Ansible, создавать Docker Swarm кластеры и строить системы мониторинга. В первых 3 модулях уже доступно бесплатное содержание — начните погружаться в мир Docker и Ansible прямо сегодня.
