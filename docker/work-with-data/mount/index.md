---
metaTitle: Монтирование томов и директорий в Docker
metaDescription: В этой статье мы рассмотрим, как монтирование томов и директорий помогает управлять данными в контейнерах Docker - от создания и использования до управления и удаления
author: Олег Марков
title: Монтирование томов и директорий в Docker
preview: В этой статье вы узнаете, как монтирование томов и директорий в Docker позволяет эффективно управлять данными, упрощает разработку и тестирование приложений
---

## Введение

Добро пожаловать в мир контейнеризации с Docker! Если вы только начинаете свое знакомство с Docker, одним из ключевых составляющих, которые вам предстоит изучить, является работа с томами и директориями. Эти элементы играют важную роль в управлении данными в контейнерах. Они обеспечивают непрерывность данных между запусками контейнеров, помогают сохранять состояния приложений и облегчают обмен данными между контейнерами и хост-машиной.

В этой статье мы подробно разберем, что из себя представляют тома и директории в Docker, а также как их можно использовать для достижения оптимального результата в ваших проектах. Давайте начнем наше путешествие в мир монтирования томов и директорий!

### Что такое тома и директории в Docker?

Прежде чем углубляться в подробности, важно понять, что такое тома и директории в контексте Docker. В сущности, они предоставляют способ организации и управления вашими данными, делая их доступными для контейнеров.

- **Тома** — это специально спроектированные механизмы Docker для управления данными, которые сохраняются вне контейнера. Тома управляются Docker и более эффективны, чем привязанные директории, когда речь идет об обмене данными между контейнерами.
  
- **Директории** — это папки на вашем хосте, которые могут быть подключены к определенным точкам в файловой системе контейнера. Используя привязанные директории, вы можете напрямую делиться файлами между вашей хост-машиной и контейнером.

Теперь, когда мы разобрались с определениями, давайте рассмотрим основные аспекты использования томов и директорий.

Эффективное использование монтирования директорий в Docker позволяет гибко управлять данными. Если вы хотите детальнее погрузиться в монтирование директорий в Docker и узнать как эффективно управлять данными — приходите на наш большой курс [Docker + Ansible - с нуля](https://purpleschool.ru/course/docker?utm_source=knowledgebase&utm_medium=text&utm_campaign=Kak_ispolzovat_montirovanie_direktoriy_v_Docker). На курсе 159 уроков и 7 упражнений, AI-тренажеры для безлимитной практики с кодом и задачами 24/7, решение задач с живым ревью наставника, еженедельные встречи с менторами. Вы научитесь работать с сетями Docker и узнаете про Docker volumes.

## Создание и использование томов

### Как создать том

Создание тома в Docker — это довольно простой процесс. Давайте начнем с команды `docker volume create`:

```bash
docker volume create my_volume
# Здесь мы создаем новый том с именем my_volume
```

После выполнения этой команды Docker создаст новый том с именем `my_volume`, который вы сможете подключать к вашим контейнерам.

### Монтирование тома в контейнер

Тома могут быть примонтированы к контейнеру с использованием опции `-v` (или `--mount`) при запуске контейнера. Давайте посмотрим на пример:

```bash
docker run -d \
  --name my_container \
  -v my_volume:/app/data \
  my_image
# Здесь мы запускаем контейнер my_container и монтируем том my_volume в директорию /app/data внутри контейнера
```

В этом примере том `my_volume` подключается к пути `/app/data` внутри контейнера `my_container`.

## Использование привязанных директорий

### Как подключить директорию

Помимо томов, Docker позволяет использовать привязанные директории. Это функциональность, которая позволяет напрямую монтировать папки с вашей хост-машины в файловую систему контейнера. Давайте разберемся с примером:

```bash
docker run -d \
  --name my_app \
  -v /path/on/host:/path/in/container \
  my_image
# Здесь мы монтируем директорию с вашего хоста (/path/on/host) в контейнер (/path/in/container)
```

Это особенно удобно для разработки, когда вам необходимо иметь доступ к обновленным версиям файлов без повторной сборки образов.

### Взаимодействие с данными через привязанные директории

Удобство привязанных директорий заключается в их гибкости. Любые изменения, которые вы делаете в файловой системе хоста, мгновенно отражаются внутри контейнера. Давайте посмотрим на практическом примере:

```bash
# Допустим, у вас обрабатывается приложение, и вы хотите сохранить логи на хосте:
docker run -d \
  --name logger \
  -v /logs/on/host:/app/logs \
  log_image
# Здесь все логи записываются внутрь директории /app/logs в контейнере и моментально сохраняются на хосте
```

## Управление томами и директориями

### Просмотр и удаление томов

Теперь, когда мы создали тома и смонтировали их, давайте рассмотрим команды управления томами. Чтобы просмотреть список всех томов на вашей системе, используйте следующую команду:

```bash
docker volume ls
# Эта команда выводит все тома, которые существуют на хост-системе
```

Когда необходимость в томе отпадает, его можно удалить командой:

```bash
docker volume rm my_volume
# Эта команда удаляет том с именем my_volume
```

### Понимание данных внутри контейнера

Зачастую важно понять, какие данные хранятся в томах и директориях. Используйте команду `docker exec`, чтобы заглянуть внутрь:

```bash
docker exec -it my_container ls /app/data
# Эта команда позволяет вам увидеть файлы и папки, которые находятся в директории /app/data контейнера
```

Теперь, когда у вас есть основное представление о монтировании томов и директорий, вы сможете лучше управлять данными в ваших Docker-контейнерах.

Работа с томами и директориями в Docker предоставляет мощные инструменты для управления данными. Они помогают обеспечивать сохранность данных между запусками контейнеров, упрощают обмен данными между контейнерами и хостом и предоставляют гибкость, необходимую для разработки и тестирования.

Погружаясь в более сложные сценарии использования Docker, помните об этих возможностях. Это поможет вам эффективнее разрабатывать, тестировать и обслуживать ваши приложения. Надеюсь, эта статья сделала тему монтирования понятной и доступной для вас.

Для автоматизации монтирования директорий в Docker можно использовать Ansible. На нашем курсе [Docker + Ansible - с нуля](https://purpleschool.ru/course/docker?utm_source=knowledgebase&utm_medium=text&utm_campaign=Kak_ispolzovat_montirovanie_direktoriy_v_Docker) вы научитесь автоматизировать эти задачи. В первых 3 модулях уже доступно бесплатное содержание — начните погружаться в Docker и Ansible прямо сегодня.
