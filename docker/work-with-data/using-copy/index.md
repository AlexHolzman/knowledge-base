---
metaTitle: Копирование данных с помощью copy в Docker
metaDescription: Поймите как использовать команду copy в Docker для управления файлами и каталогами - от базового копирования данных до оптимизации вашего рабочего процесса
author: Олег Марков
title: Копирование данных с помощью copy в Docker
preview: Узнайте как эффективно управлять файлами в контейнерах Docker с помощью команды copy. Пошаговое руководство с примерами кода для начинающих

---

## Введение

Добро пожаловать в мир Docker! Если вы только начинаете работать с контейнерами, то, возможно, уже столкнулись с задачей копирования данных из вашей системы в контейнер или наоборот. Это распространенная задача, ведь часто необходимо взять сложившуюся среду или проект и перенести его в контейнер для более удобного и независимого выполнения. В этой статье я расскажу вам, как эффективно использовать команду `COPY` в Docker. Мы подробно разберем, как перемещать данные и почему это может быть полезно. Приглашаю вас изучить основные аспекты этой команды и способы, которые помогут облегчить вашу работу с контейнерами.

## Копирование данных в Dockerfile

Одним из ключевых аспектов при создании образов Docker является возможность копирования необходимых файлов и директорий в контейнер. Это достигается с помощью команды `COPY` в Dockerfile. Давайте разберемся, как это работает.

### Основы команды COPY

Команда `COPY` — это встроенная инструкция Docker, которая позволяет копировать файлы и каталоги на этапе создания образа. Ее синтаксис следующий:

```dockerfile
COPY <источник> <назначение>
```

- `<источник>` — это путь к файлам или каталогам на вашей файловой системе, которые вы хотите скопировать.
- `<назначение>` — это путь внутри файловой системы контейнера, куда необходимо скопировать файлы.

### Пример использования COPY

Смотрите, я покажу вам, как это работает. Представим, у нас есть простое веб-приложение на языке Python. В директории проекта находится файл `app.py`, который мы хотим перенести в наш контейнер.

Вот пример Dockerfile:

```dockerfile
# Выберите базовый образ
FROM python:3.8-slim

# Установите рабочую директорию
WORKDIR /app

# Копируйте файл app.py в текущую рабочую директорию в контейнере
COPY app.py .

# Запустите приложение
CMD ["python", "app.py"]
```

В этом случае файл `app.py` находится в той же директории, что и Dockerfile, исходный путь указан как `app.py`, и файл будет скопирован в контейнер в рабочую директорию `/app`.

## Важные аспекты копирования

Когда вы копируете данные с вашей системы в контейнер или наоборот, важно понимать, что некоторые файлы и каталоги могут быть исключены. Это происходит, когда вы используете файл `.dockerignore`.

### .dockerignore

Файл `.dockerignore` работает аналогично `.gitignore` в Git. Он позволяет исключать определенные файлы и каталоги из процесса копирования. Это полезно для исключения ненужных или временных файлов, таких как логи или данные локальных сборок, которые не нужны в контейнере.

Пример:

```text
# Игнорировать все файлы .log
*.log

# Игнорировать каталог temp
temp/
```

Теперь давайте применим это в нашем Dockerfile:

```dockerfile
# Файл .dockerignore
*.log
temp/

# Dockerfile
FROM python:3.8-slim
WORKDIR /app
COPY . .
CMD ["python", "app.py"]
```

В этом примере все файлы с расширением `.log` и каталог `temp/` будут исключены из процесса копирования.

## Сердце контейнера: Как и зачем копировать?

Можно задаться вопросом: "Почему и когда мне стоит применять COPY, если есть другие команды, такие как ADD?" Если вы тоже задаетесь этим вопросом, давайте разберемся.

### Почему COPY, а не ADD?

Команда `ADD` в Docker также используется для копирования файлов, но, в отличие от `COPY`, она обладает дополнительными функциями, такими как автоматическое распаковка архивов. Однако, несмотря на это, общественность сошлась на мнении, что `COPY` более предсказуема и безопасна если дело касается копирования данных. Команда `COPY` имеет узкую специализацию: она просто копирует файлы и директории с вашего компьютера в образ без дополнительных магических действий.

## Заключение

Теперь вы знакомы с тем, как эффективно копировать данные в Docker с помощью команды `COPY`. Мы разобрали базовый синтаксис команды, а также преимущества использования `.dockerignore` для оптимизации процесса копирования. Счетчик возможностей Docker только начинается, и овладение такими основами позволит вам уверенно двигаться дальше. Копирование данных может показаться простой задачей, но её правильное выполнение важно для успешного развертывания и работы ваших контейнеров. Спасибо, что изучили эту тему вместе со мной. Вы только начинаете свой путь, но все больше практики сделает вас виртуальным мастером контейнеризации!