---
metaTitle: Как подключить Nextcloud в Docker
metaDescription: Узнайте, как установить и настроить Nextcloud в Docker для создания личного облачного хранилища файлов. Ознакомьтесь с пошаговыми инструкциями и примерами кода.
author: Олег Марков
title: Как подключить Nextcloud в Docker
preview: Установите и настройте Nextcloud в Docker - ваш гид по созданию личного облачного хранилища файлов с пошаговыми инструкциями и примерами кода.
---

## Введение

В современном мире, где данные становятся всё более значимыми, иметь собственное облачное хранилище — это не только удобно, но и необходимо. Nextcloud является отличным решением для создания личного облака, и его интеграция с Docker позволяет существенно упростить процесс установки и управления. В этой статье я расскажу вам, как быстро и без лишних сложностей развернуть Nextcloud в Docker. Не переживайте, даже если вы новичок в этой теме — я объясню каждый шаг подробно.

## Зачем использовать Docker для Nextcloud

Docker — это инструмент, который позволяет вам упаковать ваше приложение со всеми его зависимостями в единый контейнер. Это значит, что вам не нужно беспокоиться об установке необходимого ПО на серверах вручную — Docker сделает это за вас. Контейнеры Docker легко перемещать между разными хостами, что делает их идеальными для разработки и тестирования. Кроме того, в Docker возможно создание изолированных сред, что дает возможность избежать конфликтов между приложениями и зависимостями.

## Установка Docker

Прежде всего, если у вас ещё не установлен Docker, вам потребуется установить его. На официальном сайте Docker вы найдете подробные инструкции для вашей операционной системы.

Для Ubuntu, например, команда установки следующая:

```bash
sudo apt-get update
sudo apt-get install docker-ce docker-ce-cli containerd.io
```

Эти команды обновляют список пакетов и устанавливают Docker, Docker CLI и Containerd.

## Запуск Nextcloud в Docker

### Шаг 1: Создание Docker-compose файла

Docker Compose — это инструмент для запуска многоконтейнеров Docker. Мы создадим файл `docker-compose.yml`, чтобы описать наш стек.

```yaml
version: '3.7'

services:
  nextcloud:
    image: nextcloud
    ports:
      - 8080:80
    volumes:
      - nextcloud:/var/www/html
    restart: always

volumes:
  nextcloud:
```

Здесь мы описали простой сервис Nextcloud, который будет работать на порту 8080. Мы также определяем том для хранения данных Nextcloud.

### Шаг 2: Запуск контейнера

Теперь, когда у нас есть файл `docker-compose.yml`, давайте запустим наш контейнер.

```bash
docker-compose up -d
```

Эта команда подтянет нужные образы и запустит их в фоне. Флаг `-d` указывает, что контейнер должен работать в режиме демона.

## Настройка Nextcloud

После запуска контейнера Nextcloud будет доступен по адресу `http://localhost:8080`. Давайте перейдем по этому адресу в браузере, и вы увидите интерфейс настройки Nextcloud.

### Шаг 3: Завершение настройки через интерфейс

Следуйте инструкциям на экране для завершения установки Nextcloud. Сначала система предложит вам создать учетную запись администратора. Затем вам будет предложено подключить базу данных. Если вы подключаете дополнительный контейнер для управления базой данных, обязательно укажите соответствующие данные.

## Подключение базы данных

Чтобы Nextcloud работать эффективно, ему нужна база данных. Рассмотрим пример подключения MariaDB.

### Шаг 4: Интеграция MariaDB

Теперь нужно немного изменить наш `docker-compose.yml`, добавив MariaDB сервис:

```yaml
services:
  db:
    image: mariadb
    restart: always
    environment:
      MYSQL_ROOT_PASSWORD: example_password
    volumes:
      - db:/var/lib/mysql

volumes:
  nextcloud:
  db:
```

Эта конфигурация добавляет контейнер с MariaDB к нашему комплексу. Обратите внимание, как мы устанавливаем переменную окружения `MYSQL_ROOT_PASSWORD`, которая задаёт пароль для пользователя root базы данных.

После внесения изменений перезапустите Docker Compose, чтобы контейнеры были пересозданы:

```bash
docker-compose down
docker-compose up -d
```

Теперь, в процессе установки Nextcloud, укажите параметры подключения к базе данных MariaDB, используя `db` в качестве имени хоста и `example_password` как пароль.

## Заключение

Теперь, когда у вас есть работающий Nextcloud в Docker, у вас появляется мощное и гибкое решение для хранения данных. Вы можете добавлять новые функции и интеграции, развертывать обновления и масштабировать ваш облачный сервис с минимальными усилиями. Docker делает управление сервисом проще, а тёплая поддержка сообщества Nextcloud гарантирует вам помощь в случае вопросов. Надеюсь, что это руководство помогло вам начать работу с Nextcloud в Docker. Enjoy your cloud experience!