---
metaTitle: Установка, команды и работа с конфигурацией Docker Compose
metaDescription: Узнайте, как установить Docker Compose, изучите основные команды и разберитесь с конфигурацией - простое руководство для начинающих работа с контейнерами
author: Олег Марков
title: Установка, команды и работа с конфигурацией Docker Compose
preview: Установка Docker Compose и работа с ним - полное руководство по версиям, командам и конфигурации. Настройте удобное управление контейнерами.
---

## Введение

Приветствую вас в мире Docker Compose! Если вы только начинаете свой путь работы с контейнерами или хотите упростить уже имеющийся процесс, это руководство именно для вас. Docker Compose — это мощный инструмент, который позволяет управлять многоконтейнерными приложениями с легкостью. Вам не придется вручную запускать каждую часть вашего стека, вместо этого вы сможете автоматически развертывать его с помощью одного файла конфигурации. Давайте шаг за шагом изучим, как это все работает и что необходимо для начала работы.

## Установка Docker Compose

Прежде чем начать, нам нужно установить Docker Compose на вашем компьютере. Убедитесь, что Docker уже установлен, так как он необходим для работы Compose.

### Установка на Linux

Для начала давайте настроим Docker Compose на Linux. Выполните следующие команды в вашем терминале:

```bash
# Скачиваем последнюю версию Docker Compose
sudo curl -L "https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose

# Даем файлу права на выполнение
sudo chmod +x /usr/local/bin/docker-compose
```

### Установка на macOS

Если вы используете macOS, самым простым способом будет установка через Homebrew. Следующая команда установит Docker и Docker Compose:

```bash
# Устанавливаем docker-compose через Homebrew
brew install docker-compose
```

### Установка на Windows

На вашей машине с Windows Docker Compose обычно устанавливается вместе с Docker Desktop. После установки Docker Desktop у вас сразу будет доступ к Docker Compose.

После установки проверьте, что Docker Compose успешно установлен:

```bash
# Проверка версии Docker Compose
docker-compose --version
```

Если увидите версию, значит, всё прошло успешно. Теперь переходим к следующему шагу.

## Основные команды Docker Compose

Теперь, когда мы установили Docker Compose, давайте посмотрим на основные команды, которые помогут вам управлять контейнерами.

### Запуск контейнеров

Для запуска контейнеров используйте команду `up`. Она выполнит все этапы, от сборки до запуска, как это определено в вашем `docker-compose.yml` файле.

```bash
# Запуск контейнеров
docker-compose up
```

Если вы хотите, чтобы процесс выполнялся в фоновом режиме, используйте флаг `-d`:

```bash
# Запуск в фоновом режиме
docker-compose up -d
```

### Остановка контейнеров

Чтобы остановить работающие контейнеры, просто выполните команду `down`. Она не только остановит контейнеры, но и удалит их:

```bash
# Остановка и удаление контейнеров
docker-compose down
```

### Просмотр статуса

Чтобы увидеть, какие контейнеры сейчас запущены, используйте команду `ps`:

```bash
# Просмотр состояния контейнеров
docker-compose ps
```

### Логи контейнеров

Смотрите логи вашего приложения в режиме реального времени с помощью команды `logs`:

```bash
# Показать логи всех контейнеров
docker-compose logs
```

Теперь, когда мы разобрались с основными командами, давайте перейдем к конфигурации.

## Работа с конфигурацией Docker Compose

Конфигурация в Docker Compose осуществляется через файл `docker-compose.yml`, в котором вы описываете, какие услуги вам нужны и как они должны взаимодействовать друг с другом.

### Создание файла docker-compose.yml

Давайте рассмотрим простой пример конфигурации. Смотрите, я покажу, как это работает для небольшого приложения на Node.js и базы данных MongoDB. Создайте файл `docker-compose.yml` в вашем проекте:

```yaml
version: '3' # Указываем версию Docker Compose

services: 
  web: # Это наш сервис для приложения
    image: node:14 # Используем официальный образ Node.js
    volumes:
      - .:/usr/src/app # Монтируем текущий каталог внутрь контейнера
    working_dir: /usr/src/app # Устанавливаем рабочую директорию в контейнере
    command: npm start # Команда для старта приложения
    ports: 
      - "3000:3000" # Пробрасываем порт 3000

  database: # Сервис базы данных
    image: mongo # Используем официальный образ MongoDB
    ports:
      - "27017:27017" # Пробрасываем порт базы данных
```

Вот так просто можно создать многоконтейнерное приложение. Обратите внимание, как этот файл описывает все, что нужно для запуска.

### Сетевые настройки

Docker Compose автоматически создает сеть, чтобы сервисы могли взаимодействовать друг с другом. Например, в вашем коде Node.js, чтобы подключиться к MongoDB, просто используйте `database` в качестве hostname.

### Переменные окружения

Вы можете передавать переменные окружения в контейнеры. Это делается через блок `environment`:

```yaml
services:
  web:
    # код...
    environment:
      - NODE_ENV=production # Устанавливаем режим "production"
```

## Заключение

Теперь вы знаете, как устанавливать, запускать и конфигурировать Docker Compose. Это мощный инструмент, упрощающий работу с многоконтейнерными приложениями. Необходимо только один раз настроить `docker-compose.yml`, и вы получите возможность легко управлять вашим стеком приложений. Надеюсь, это руководство сделало ваш старт в Docker Compose более простым и понятным. Удачи в написании вашего собственного проекта!