---
metaTitle: Разработка django в Docker
metaDescription: Узнайте, как интеграция Django с Docker упрощает развертывание и управление приложениями, изучите основные команды и шаги настройки
author: Олег Марков
title: Разработка django в Docker
preview: Исследуйте, как разработка Django в Docker предоставляет возможность быстрее и проще управлять приложениями. Примеры и руководства помогут в освоении
---

## Введение

Разработка с использованием Django внутри контейнеров Docker стала стандартной практикой для многих разработчиков. Docker позволяет создавать изолированные контейнеры, которые включают все необходимые зависимости и настройки для запуска приложения. Благодаря этому подходу, вы можете быстро развернуть ваш Django-проект на любой машине, не беспокоясь о несовместимостях в конфигурациях среды.

В этой статье мы познакомимся с тем, как настроить и разрабатывать Django-приложения внутри Docker. Мы рассмотрим создание `Dockerfile`, настройку `docker-compose`, а также основные команды для работы с контейнерами. Все это позволит вам более уверенно запускать свои проекты в контейнерах Docker.

## Почему Docker для Django?

Перед тем как углубляться в инструкции, важно понять, почему Docker стал выбором номер один для многих разработчиков Django.

- **Упрощенное управление зависимостями:** Все зависимости вашего проекта хранятся в контейнере. Это значит, что вам не нужно беспокоиться о несовместимостях версий библиотек.
- **Изоляция и согласованность:** Docker-контейнеры обеспечивают согласованность среды разработки и продакшн.
- **Масштабируемость:** Контейнеры облегчает горизонтальное масштабирование приложения благодаря оркестрации.

Разработка Django в Docker упрощает процесс развертывания, но для масштабирования приложения необходима оркестрация и автоматизация. Если вы хотите детальнее погрузиться в Docker и научиться автоматизировать развертывание Django-приложений с помощью Ansible, а также создавать кластеры Docker Swarm для управления этими приложениями, приходите на наш большой курс [Docker + Ansible - с нуля](https://purpleschool.ru/course/docker?utm_source=knowledgebase&utm_medium=text&utm_campaign=Razrabotka_django_v_Docker). На курсе 159 уроков и 7 упражнений, AI-тренажеры для безлимитной практики с кодом и задачами 24/7, решение задач с живым ревью наставника, еженедельные встречи с менторами.

## Начало работы

### Установка Docker

Прежде чем начать, убедитесь, что у вас установлены Docker и Docker Compose. Вы можете установить их, следуя инструкции на официальном сайте Docker.

### Создание проекта Django

Начнем с создания базового проекта Django. Это можно сделать как на вашей локальной машине, так и сразу в Docker-контейнере.

```bash
# Установите Django (если это ещё не сделано)
pip install django

# Создайте новый проект Django
django-admin startproject myproject
```

### Создание Dockerfile

`Dockerfile` – это текстовый файл, содержащий все команды, необходимые для сборки Docker-образа. Давайте создадим `Dockerfile` для нашего Django-приложения.

```Dockerfile
# Используем официальный python-образ для начала
FROM python:3.9

# Устанавливаем рабочую директорию
WORKDIR /app

# Копируем нужные файлы в контейнер
COPY requirements.txt requirements.txt

# Устанавливаем зависимости
RUN pip install -r requirements.txt

# Копируем наше приложение в контейнер
COPY . .

# Указываем команду для выполнения нашего Django-приложения
CMD ["python", "manage.py", "runserver", "0.0.0.0:8000"]
```

### Настройка Docker Compose

Docker Compose позволяет нам легко управлять многоконтейнерными приложениями. Создайте файл `docker-compose.yml` в корневой директории вашего проекта:

```yaml
version: '3.9'

services:
  web:
    build: .
    ports:
      - "8000:8000"
    volumes:
      - .:/app
    depends_on:
      - db

  db:
    image: postgres
    environment:
      POSTGRES_DB: myproject
      POSTGRES_USER: user
      POSTGRES_PASSWORD: password
```

### Запуск приложения

Теперь, когда все настроено, давайте запустим наше Django-приложение в Docker-контейнере.

```bash
# Собираем образы и запускаем контейнеры
docker-compose up --build
```

Вы увидите, как Docker загружает зависимости и запускает ваше приложение. После завершения сборки вы сможете открыть браузер и перейти по адресу `http://localhost:8000`, чтобы увидеть ваше работающее приложение Django.

## Настраиваем базу данных

Одним из преимуществ Docker является легкость интеграции различных сервисов. Давайте посмотрим, как настроить PostgreSQL в вашем проекте:

1. Объявите переменные среды в `docker-compose.yml`, как показано выше, для настройки базы данных.
2. Настройте `settings.py` Django для использования PostgreSQL:

```python
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.postgresql',
        'NAME': 'myproject',
        'USER': 'user',
        'PASSWORD': 'password',
        'HOST': 'db',  # Имя сервиса в docker-compose
        'PORT': '5432',
    }
}
```

3. Примените миграции, чтобы создать таблицы в базе данных:

```bash
# Откройте терминал внутри контейнера web
docker-compose exec web python manage.py migrate
```

## Советы и рекомендации

### Автоматическое обновление кода

Чтобы видеть изменения в реальном времени без перезапуска контейнеров, используйте bind-монтирование. Оно прописано в нашем `docker-compose.yml`:

```yaml
volumes:
  - .:/app
```

### Просмотр логов

Docker предоставляет удобные команды для просмотра логов:

```bash
# Показывает логи всех контейнеров
docker-compose logs

# Показывает логи определенного сервиса
docker-compose logs web
```

## Заключение

Разработка Django-приложений с использованием Docker значительно упрощает деплой и поддержку приложений, обеспечивая стандартизацию среды и легкость масштабирования. Мы разобрали основные шаги создания Docker-контейнера для Django, настройки баз данных с использованием Docker Compose и полезные практики работы с контейнерами.

Изучив и применив эти инструкции, вы сможете ускорить ваш рабочий процесс и обеспечить большую стабильность разрабатываемых приложений. Docker предоставляет мощные инструменты для разработки, которые делают вашу работу более предсказуемой и управляемой.

Развертывание Django в Docker – это удобно, но для production-окружения требуется автоматизация. На нашем курсе [Docker + Ansible - с нуля](https://purpleschool.ru/course/docker?utm_source=knowledgebase&utm_medium=text&utm_campaign=Razrabotka_django_v_Docker) вы научитесь использовать Ansible для автоматической настройки Django и Docker Swarm для создания отказоустойчивого кластера. В первых 3 модулях уже доступно бесплатное содержание — начните погружаться в мир Docker прямо сегодня и узнайте, как автоматизировать развертывание и управление контейнерами.
