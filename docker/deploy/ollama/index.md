---
metaTitle: Развертывание Ollama в Docker
metaDescription: Узнайте, как развернуть Ollama в Docker для оптимизации процессов развертывания - пошаговое руководство и примеры кода помогут упрощать работу с Docke
author: Олег Марков
title: Развертывание Ollama в Docker
preview: Исследуйте процесс развертывания Ollama в Docker - научитесь быстро и эффективно внедрять контейнеризацию в свои проекты с помощью простых примеров и пояснений
---

## Введение

Ollama — это мощная платформа, которую можно эффективно использовать в различных приложениях. Развертывание Ollama в Docker предоставляет ряд преимуществ, таких как улучшенная масштабируемость, изоляция процессов и легкость в управлении. В этой статье вы узнаете, как развернуть Ollama в Docker, получите пошаговые инструкции, а также примеры кода, которые помогут вам добиться успешного результата.

Развертывание Ollama в Docker упрощает процесс установки и настройки, но для масштабирования и управления необходима оркестрация. Если вы хотите детальнее погрузиться в Docker и научиться автоматизировать развертывание Ollama с помощью Ansible, а также создавать кластеры Ollama в Docker Swarm, приходите на наш большой курс [Docker + Ansible - с нуля](https://purpleschool.ru/course/docker). На курсе 159 уроков и 7 упражнений, AI-тренажеры для безлимитной практики с кодом и задачами 24/7, решение задач с живым ревью наставника, еженедельные встречи с менторами.

## Установка Docker

Прежде чем приступить к развертыванию Ollama, необходимо установить Docker. Это программное решение позволяет запускать и управлять контейнерами, и его установка является первым шагом в нашем процессе.

### Шаги по установке Docker

1. **Загрузите Docker Desktop** с официального сайта Docker. Он доступен для различных операционных систем, таких как Windows, macOS и Linux.
2. **Установите Docker Desktop**, следуя инструкциям на экране.
3. После установки **запустите Docker Desktop** и убедитесь, что он работает корректно. Для этого можно выполнить в терминале команду:

```bash
docker --version
# Эта команда выводит установленную версию Docker
```

При успешной установке вы увидите версию Docker, например, "Docker version 20.10.7, build f0df350".

## Создание Dockerfile для Ollama

Dockerfile — это текстовый файл, содержащий все команды, которые пользователь может вызвать вручную для сборки контейнерного образа. Создание Dockerfile — это следующий шаг к развертыванию Ollama в Docker.

### Базовый Dockerfile

Вот пример базового Dockerfile, который можно использовать для развертывания Ollama:

```dockerfile
# Используем базовый образ Python
FROM python:3.8-slim

# Устанавливаем зависимости
COPY requirements.txt /app/requirements.txt
RUN pip install --no-cache-dir -r /app/requirements.txt

# Копируем исходный код
COPY . /app

# Устанавливаем рабочую директорию
WORKDIR /app

# Запускаем приложение
CMD ["python", "app.py"]
```

#### Пояснения к Dockerfile:

- `FROM python:3.8-slim`: мы используем облегченный образ Python как базовый для нашего контейнера.
- `COPY requirements.txt /app/requirements.txt`: копируем файл с зависимостями в контейнер.
- `RUN pip install --no-cache-dir -r /app/requirements.txt`: устанавливаем Python-зависимости.
- `COPY . /app`: копируем весь проект в контейнер.
- `WORKDIR /app`: устанавливаем рабочую директорию внутри контейнера.
- `CMD ["python", "app.py"]`: инструкция запускает приложение Ollama.

## Сборка Docker-образа

Теперь, имея Dockerfile, мы можем приступить к сборке Docker-образа. Это можно сделать с помощью команды `docker build`.

### Сборка образа Ollama

Откройте терминал и выполните следующую команду в корневой папке проекта:

```bash
docker build -t ollama-app .
# -t позволяет нам задать тег для образа; точка указывает путь к Dockerfile
```

При успешной сборке Docker создаст образ с именем "ollama-app". Чтобы убедиться в этом, выполните команду:

```bash
docker images
# Эта команда выводит список всех локальных Docker-образов
```

Вы должны увидеть "ollama-app" в выводе.

## Запуск контейнера

После успешной сборки Docker-образа мы готовы запустить контейнер.

### Запуск с использованием Docker

Запустите собранный образ с помощью следующей команды:

```bash
docker run --name ollama-container -p 5000:5000 ollama-app
# --name позволяет задать имя контейнера, -p связывает порты хоста и контейнера
```

Эта команда запускает контейнер и переадресует поток трафика с порта 5000 хоста на порт 5000 контейнера. Теперь ваше приложение Ollama работает в Docker-контейнере.

## Заключение

Развертывание Ollama в Docker значительно упрощает управление приложением и упрощает процессы развертывания и масштабирования. Используя Dockerfile и команды для сборки и запуска контейнеров, вы получаете надежный и последовательный подход к реализации вашей инфраструктуры. Эта статья предоставила вам пошаговое руководство по установке, созданию образа и запуску Ollama внутри Docker, обеспечив легкий и доступный способ начать работу с контейнерами.

Развертывание Ollama в Docker – это удобно, но для production-окружения требуется автоматизация. На нашем курсе [Docker + Ansible - с нуля](https://purpleschool.ru/course/docker) вы научитесь использовать Ansible для автоматической настройки Ollama и Docker Swarm для создания отказоустойчивого кластера. Начните погружение с бесплатных модулей уже сегодня.
