---
metaTitle: Как использовать системные переменные (vars) в Docker 
metaDescription: Узнайте, как эффективно использовать системные переменные в Docker - от настроек до передачи значений в контейнеры, включая практические примеры и советы 
author: Олег Марков
title: Как использовать системные переменные (vars) в Docker 
preview: Узнайте о важности системных переменных в Docker и научитесь их использовать для настройки и передачи данных внутри контейнеров с помощью практических примеров 
---

## Введение
Если вы только начинаете свое путешествие в контейнеризацию, вы, вероятно, уже осознали, что Docker - это мощный инструмент, способный значительно упростить развертывание и управление приложениями. Однако, для того чтобы по-настоящему использовать всю мощь Docker, вам необходимо освоить некоторые ключевые концепции. Одна из таких концепций - это использование системных переменных внутри контейнеров Docker.

Системные переменные (или переменные окружения) в Docker играют важную роль. Они позволяют вам передавать конфигурации и настройки в ваши контейнеры без необходимости модификации самого изображения Docker. В этой статье я покажу вам, как можно использовать системные переменные для управления поведением ваших контейнеров. 

Использование системных переменных значительно упрощает настройку Docker-контейнеров, делая их более гибкими и переносимыми. Однако, для полного контроля над развертыванием приложений в контейнерах, часто требуется оркестрация и автоматизация. Если вы хотите детальнее погрузиться в управление инфраструктурой и развертыванием приложений в Docker — приходите на наш большой курс [Docker + Ansible - с нуля](https://purpleschool.ru/course/docker). На курсе 159 уроков и 7 упражнений, AI-тренажеры для безлимитной практики с кодом и задачами 24/7, решение задач с живым ревью наставника, еженедельные встречи с менторами. Вы узнаете, как использовать Ansible для автоматизации Docker, оркестровать контейнеры и создавать сложные CI/CD пайплайны.

## Основные преимущества использования системных переменных в Docker

Сначала давайте поговорим о том, зачем вообще нам нужны эти системные переменные. Главное преимущество - это гибкость и удобство. Вы можете легко изменять параметры своего приложения, передавая различные значения переменных окружения при запуске контейнера. Это полезно в следующих ситуациях:

- **Конфигурируемость**: Вы можете установить значения конфигурации для вашего приложения, например, порты, базы данных или учетные данные, без изменения кода.
- **Безопасность**: Системные переменные позволяют хранить чувствительную информацию, такую как пароли и ключи API, вне самого Dockerfile.
- **Повторяемость**: Переменные окружения позволяют легко воспроизводить условия работы вашего приложения на разных средах, включая разработку, тестирование и производство.

Давайте теперь рассмотрим, как работать с системными переменными в Docker на практике.

## Передача системных переменных в контейнеры

### Установка переменных через командную строку

Первый и самый простой способ передать системные переменные вашему контейнеру - это использование опции `-e` при запуске контейнера. Давайте разберем это на примере:

```bash
docker run -e MY_VAR=value my_docker_image
```

Здесь мы используем `-e` для передачи переменной `MY_VAR` со значением `value` в контейнер, созданный из `my_docker_image`. Это означает, что внутри контейнера значение `MY_VAR` будет доступно для вашего приложения.

### Использование файла `.env`

Если у вас много переменных, было бы удобно собрать их в файл `.env`. Это особенно полезно, если вы хотите отделить конфигурационные данные от кода. Вот пример того, как может выглядеть ваш файл `.env`:

```
DB_HOST=localhost
DB_USER=root
DB_PASSWORD=secret
```

Теперь, используя Docker Compose, вы можете подключить этот файл при запуске контейнеров:

```yaml
version: '3'
services:
  my_service:
    image: my_docker_image
    env_file:
      - ./.env  # Здесь мы указываем путь к файлу .env
```

Этот код позволяет автоматически импортировать все переменные, указанные в файле `.env`, в среду контейнера.

### Использование Dockerfile для установки переменных

Вы также можете устанавливать переменные прямо в вашем Dockerfile с использованием инструкции `ENV`. Посмотрите, как это делается:

```Dockerfile
FROM python:3.8
ENV APP_ENV=production
ENV APP_VERSION=1.0.0
CMD ["python", "app.py"]
```

Эти переменные будут установлены на этапе сборки изображения и будут доступны во время выполнения контейнера.

#### Важное примечание

Обратите внимание, что установка конфиденциальной информации, такой как пароли и ключи API, в Dockerfile не рекомендуется по соображениям безопасности. Лучше всего использовать переменные окружения в сочетании с безопасными методами хранения секретов.

## Заключение

Итак, мы выяснили, что использование системных переменных в Docker позволяет вам легко и эффективно управлять конфигурацией ваших приложений, обеспечивая гибкость и безопасность. Независимо от того, используете ли вы командную строку, файлы `.env`, или Dockerfile, системные переменные предоставляют мощный инструмент для настройки и управления поведением ваших контейнеров. Надеюсь, теперь вы уверены в своих силах использовать это знание на практике.

Настройка переменных окружения – это только часть пути к эффективному использованию Docker. Для управления сложными приложениями, состоящими из множества контейнеров, необходимы инструменты оркестрации и автоматизации. На нашем курсе [Docker + Ansible - с нуля](https://purpleschool.ru/course/docker) вы научитесь не только работать с Docker Compose, но и автоматизировать развертывание приложений с помощью Ansible, создавать Docker Swarm кластеры и полноценные системы мониторинга. Бесплатные модули доступны для изучения прямо сейчас.
