---
metaTitle: Команда wait в Docker
metaDescription: Изучите команду wait в Docker - её функции и возможности для управления контейнерами. Узнайте, как она позволяет дожидаться завершения процессов в контейнерах 
author: Олег Марков
title: Команда wait в Docker
preview: Откройте для себя команду wait в Docker - её предназначение и применение для управления процессами в контейнерах. Примеры и детали использования помогут вам освоить её
---

## Введение

В мире виртуализации и контейнеризации Docker зарекомендовал себя как один из ведущих инструментов для развертывания, управления и масштабирования приложений. С его помощью разработчики и системные администраторы могут создавать и управлять изолированными средами, в которых работают приложения. Однако, чтобы эффективно использовать Docker, необходимо понимать, какие команды он предлагает и как они могут помочь вам в различных сценариях. Одна из этих команд — `docker wait`. Она может показаться простой на первый взгляд, но её использование может быть крайне полезным в автоматизации и управлении контейнерами. В этой статье мы углубимся в сущность команды `wait`, её использование и возможности.

## Что такое команда `docker wait`

Команда `docker wait` предназначена для блокирования текущего терминала до тех пор, пока указанный контейнер не завершится. Это значит, что выполнение команды `docker wait` зависит от состояния контейнера: она завершится, как только контейнер прекратит свою работу. В результате, команда возвращает код завершения процесса, который выполнялся в контейнере. Это может быть особенно полезным в сценариях скриптов и автоматизированных процессов, где важно знать результат выполнения определенного контейнера.

### Основные возможности

- Ожидание завершения работы контейнера.
- Получение кода состояния выхода из завершенного контейнера.
- Полезность для автоматизации процессов в Docker.

## Как работает команда `docker wait`

Когда вы запускаете команду `docker wait`, Docker начинает "слушать" состояние указанного контейнера. Это позволяет вам дождаться завершения контейнеров асинхронно, что иногда необходимо для выполнения последующих действий после завершения работы процесса в контейнере.

### Пример использования

Чтобы продемонстрировать, как это работает, давайте рассмотрим пример. Для начала запускается новый контейнер на основе простого образа:

```bash
# Создаем контейнер на основе busybox, который просто спит 5 секунд, чтобы быстро завершиться
docker run --name example-container busybox sleep 5
```

Теперь, в новом терминале, вы можете использовать команду `docker wait`:

```bash
# Запускаем команду wait и ждем завершения указанного контейнера
docker wait example-container
```

Когда контейнер завершит свою работу, `docker wait` вернет код завершения процесса, который можно использовать в дальнейших действиях программы.

### Пример скрипта с использованием wait

Команда `docker wait` может быть очень полезна в сценариях автоматизации, например, в shell-скриптах. Рассмотрим простой скрипт, который запускает контейнер и дожидается его завершения.

```bash
#!/bin/bash

# Запускаем контейнер в фоновом режиме
docker run -d --name my-container busybox sleep 10

# Ждем завершения контейнера
EXIT_CODE=$(docker wait my-container)

# Вывод кода завершения контейнера
echo "Контейнер завершился с кодом: $EXIT_CODE"

# Удаляем контейнер после завершения
docker rm my-container
```

В этом примере контейнер `my-container` запускается для выполнения команды `sleep 10`. Команда `docker wait` ожидает завершения выполнения, после чего скрипт выводит код завершения и удаляет контейнер.

## Применение в реальных сценариях

Как только вы осознаете пользу от использования команды `docker wait`, становится понятно, как её можно использовать для контроля и мониторинга различных процессов. Она может быть полезной, например, для тестирования, где нужно автоматически выполнить анализ результатов выполнения контейнера, или в CI/CD системах, где требуется дожидаться завершения определенных шагов перед переходом к следующим.

## Заключение

Команда `docker wait` на первый взгляд может показаться достаточно простой, однако в сочетании с другими инструментами и скриптами она открывает широкие возможности по управлению контейнерами в Docker. Её основное преимущество в способности блокировать выполнение до завершения процессов, что может быть критически важно в различных автоматизированных сценариях. Надеемся, что эта статья помогла вам глубже понять потенциал команды `docker wait` и как её можно использовать для упрощения и автоматизации задач в вашей работе с Docker.