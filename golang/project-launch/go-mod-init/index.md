---
metaTitle: Работа с использованием go mod init для создания модулей Golang
metaDescription: Разбираемся c использованием go mod init для создания модулей Golang
author: Александр Гольцман
title: Использование go mod init для создания модулей Golang
preview: В этой статье я покажу, как создать модуль в Go, зачем он нужен и какие возможности предоставляет. Также разберём, как работать с зависимостями в рамках модуля.
---

Модульная система в Go позволяет эффективно управлять зависимостями и структурировать код. С помощью команды `go mod init` можно инициализировать новый модуль, который станет основой для проекта. В этой статье я покажу, как создать модуль в Go, зачем он нужен и какие возможности предоставляет. Также разберём, как работать с зависимостями в рамках модуля.

### Что такое модуль в Go?

Смотрите, в Go модуль — это логическая единица кода, которая включает пакеты и зависимости. Система модулей появилась в Go 1.11 и заменила старый подход с `GOPATH`, упростив работу с внешними библиотеками.

Каждый модуль содержит файл `go.mod`, который определяет:

- имя модуля,
- используемую версию Go,
- список зависимостей и их версии.

`go mod init` — это команда, с которой начинается любой Go-проект. Чтобы эффективно использовать модули в Golang, необходимо понимать, как управлять зависимостями, как версионировать код и как публиковать свои модули. Если вы хотите детальнее погрузиться в backend разработку на Go — приходите на наш большой курс [Основы Golang](https://purpleschool.ru/course/go-basics?utm_source=knowledgebase&utm_medium=text&utm_campaign=ispolzovanie-go-mod-init-dlya-sozdaniya-moduley-golang). На курсе 193 уроков и 16 упражнений, AI-тренажеры для безлимитной практики с кодом и задачами 24/7, решение задач с живым ревью наставника, еженедельные встречи с менторами.

Это позволяет явно контролировать, какие пакеты используются в проекте, и исключает проблемы с несовместимыми версиями.

### Создание модуля с `go mod init`

Чтобы создать новый модуль, выполните команду:

```
go mod init example.com/mymodule
```

Здесь `example.com/mymodule` — это имя модуля. Оно не обязательно должно быть реальным доменом, но если вы планируете распространять модуль, лучше использовать уникальное название, например, привязанное к вашему репозиторию на GitHub.

После выполнения команды в корневой директории проекта появится файл `go.mod` следующего вида:

```
module example.com/mymodule

go 1.20
```

Файл `go.mod` хранит метаданные о модуле и его зависимостях.

### Добавление зависимостей

В Go зависимости подключаются автоматически при первом их использовании. Например, если вы импортируете пакет `github.com/sirupsen/logrus`, то после первого вызова `go build` или `go run` в файле `go.mod` появится строка с этим пакетом.

Можно также вручную добавить зависимость командой:

```
go get github.com/sirupsen/logrus@latest
```

Если вам нужна конкретная версия, укажите её явно:

```
go get github.com/sirupsen/logrus@v1.8.1
```

После этого в файле `go.mod` появится запись с точной версией пакета, а в `go.sum` — контрольные суммы для проверки целостности зависимостей.

### Работа с версиями

Go использует семантическое версионирование (SemVer). Основные правила:

- Минорные обновления (`v1.2.0` → `v1.3.0`) должны быть совместимы.
- Мажорные версии (`v1.x.x` → `v2.0.0`) могут содержать несовместимые изменения.

При обновлении зависимостей можно использовать:

```
go get -u ./...
```

Это обновит все зависимости до последних минорных версий. Если нужно обновить всё до мажорных версий, используйте:

```
go get -u=patch ./...
```

### Организация кода внутри модуля

Смотрите, после инициализации модуля можно организовать код по пакетам. Например:

```
mymodule/
 ├── go.mod
 ├── main.go
 ├── pkg/
 │   ├── utils/
 │   │   ├── utils.go
 ├── internal/
 │   ├── auth/
 │   │   ├── auth.go
```

- **`pkg/`** — для публичных библиотек, доступных за пределами модуля.
- **`internal/`** — для внутренних пакетов, которые не могут быть импортированы извне.
- **`main.go`** — точка входа, если проект является исполняемым файлом.

Пример кода для `utils.go`:

```go
package utils

import "fmt"

func SayHello(name string) {
    fmt.Println("Hello,", name)
}
```

В `main.go` можно использовать этот пакет так:

```go
package main

import (
    "example.com/mymodule/pkg/utils"
)

func main() {
    utils.SayHello("Gopher")
}
```

### Проверка модуля и зависимостей

После всех изменений полезно выполнить проверку командой:

```
go mod tidy
```

Она удалит ненужные зависимости и обновит `go.mod` и `go.sum`.

Также можно проверить, какие модули используются в проекте:

```
go list -m all
```

### Заключение

Go-модули упростили управление зависимостями, устранив проблемы `GOPATH`. Теперь каждый проект имеет свой `go.mod`, который фиксирует нужные версии пакетов.

Здесь я показал, как создать модуль с `go mod init`, подключить зависимости и организовать код внутри модуля. Используйте `go mod tidy` для очистки зависимостей и `go get` для их обновления.

Такой подход делает проекты в Go более предсказуемыми и удобными в работе, особенно в командной разработке.

Теперь вы знаете, как использовать `go mod init` для создания модулей Golang. Чтобы систематизировать свои знания Go и научиться писать чистый и поддерживаемый backend код, обратите внимание на курс [Основы Golang](https://purpleschool.ru/course/go-basics?utm_source=knowledgebase&utm_medium=text&utm_campaign=ispolzovanie-go-mod-init-dlya-sozdaniya-moduley-golang). В первых 3 модулях уже доступно бесплатное содержание — начните погружаться в Go прямо сегодня и станьте уверенным разработчиком.
