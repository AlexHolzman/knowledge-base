---
metaTitle: Пакет strconv в Golang
metaDescription: Погрузитесь в подробное описание пакета strconv в Go - от преобразования строк и чисел до работы с ограниченной длиной строк, понимая все тонкости и нюансы
author: Олег Марков
title: Пакет strconv в Golang
preview: Изучите пакет strconv в Go - преобразование строк и чисел, обработка форматов, разбор ошибок и практические примеры кода, которые помогут глубже понять этот мощный инструмент
---

## Введение

Привет! Если вы работаете с языком программирования Go, то сталкивались с задачей преобразования данных из одного типа в другой. Пакет `strconv` в Go как раз является тем инструментом, который поможет вам в этом деле. Основное предназначение этого пакета – преобразование строк в числа и обратно. В этой статье я расскажу вам о ключевых особенностях пакета `strconv`, покажу примеры кода и объясню, как эти функции могут быть полезны в вашей практике программирования.

## Преобразование строк в числа

### ParseInt

Давайте начнем с функции, которая позволяет преобразовать строку в целое число, - это `ParseInt`. Она принимает строку и базу (т.е. систему счисления) и возвращает соответствующее целое число. Если строка не может быть преобразована, функция вернет ошибку.

```go
package main

import (
	"fmt"
	"strconv"
)

func main() {
	// Преобразуем строку "123" в целое число
	number, err := strconv.ParseInt("123", 10, 0) // 10 - система счисления, 0 - автоматический выбор типа int
	if err != nil {
		fmt.Println(err)
	} else {
		fmt.Println(number) // Вывод: 123
	}
}
```

Здесь я указал базу 10, что соответствует десятичной системе. Третий аргумент, `0`, позволяет `ParseInt` автоматически выбирать возвращаемый тип (int32 или int64), основываясь на размере значения.

### ParseFloat

Если вам нужно работать с числами с плавающей точкой, используйте `ParseFloat`. Эта функция работает аналогично `ParseInt`.

```go
package main

import (
	"fmt"
	"strconv"
)

func main() {
	// Преобразуем строку "123.45" в число с плавающей точкой
	number, err := strconv.ParseFloat("123.45", 64) // 64 - это разрядность float64
	if err != nil {
		fmt.Println(err)
	} else {
		fmt.Println(number) // Вывод: 123.45
	}
}
```

В этом случае, второй параметр, `64`, указывает на то, что мы ожидаем получить `float64` в результате.

## Преобразование чисел в строки

### Itoa

Если перед вами стоит задача преобразования целого числа в строку, на помощь придет функция `Itoa`. Она используется для преобразования `int` в `string`.

```go
package main

import (
	"fmt"
	"strconv"
)

func main() {
	// Преобразуем целое число 123 в строку
	str := strconv.Itoa(123)
	fmt.Println(str) // Вывод: "123"
}
```

### FormatFloat

Для преобразования чисел с плавающей точкой в строку есть функция `FormatFloat`. Она предлагает гибкие настройки представления числа в строке.

```go
package main

import (
	"fmt"
	"strconv"
)

func main() {
	// Преобразуем число с плавающей точкой 123.45 в строку
	str := strconv.FormatFloat(123.45, 'f', 2, 64) // 'f' - формат, 2 - точность, 64 - разрядность
	fmt.Println(str) // Вывод: "123.45"
}
```

Здесь `'f'` – это формат экспоненциальной нотации, `2` – количество знаков после запятой, `64` – разрядность.

## Работа с bool и других типов

### ParseBool и FormatBool

Если вам нужно работать с булевыми значениями, в пакете `strconv` есть функции `ParseBool` и `FormatBool`. Они помогут перевести строки в булевые значения и обратно.

```go
boolVal, err := strconv.ParseBool("true")
if err != nil {
	fmt.Println(err)
} else {
	fmt.Println(boolVal) // Вывод: true
}

boolStr := strconv.FormatBool(false)
fmt.Println(boolStr) // Вывод: "false"
```

## Заключение

Теперь вы знаете основы работы с пакетом `strconv` в Go и можете безопасно и эффективно преобразовывать данные из одного типа в другой. Этот мощный инструмент позволяет гибко работать с преобразованиями, удовлетворяя потребности большинства сценариев. Пробуйте использовать эти функции на практике, и вы увидите, насколько они могут упростить вашу работу с данными. Не бойтесь экспериментировать и находить новые способы применения `strconv` в своих проектах. Удачи в программировании на Go!