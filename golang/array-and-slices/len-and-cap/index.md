---
metaTitle: Len и Cap в Golang
metaDescription: Понимание функций len() и cap() в языке программирования Go (Golang).
author: Дмитрий Нечаев
title: Len и Cap в Golang
preview: В этой статье мы рассмотрим функции len() и cap() в Go, их назначение и примеры использования для массивов и срезов.
---

В языке программирования Go (или Golang) функции `len()` и `cap()` часто используются для работы с коллекциями данных, такими как массивы, срезы и каналы. В этой статье мы рассмотрим, что представляют собой эти функции, их назначение и как правильно их использовать.

### Функция `len()`

Функция `len()` в Go возвращает количество элементов в коллекции. Эта функция применяется к массивам, срезам, строкам и картам. Давайте рассмотрим примеры использования функции `len()`:

1. **Массивы**

   Для массивов функция `len()` возвращает фиксированное количество элементов:

   ```go
   package main

   import "fmt"

   func main() {
       nums := [5]int{1, 2, 3, 4, 5}
       fmt.Println("Длина массива:", len(nums)) // Вывод: 5
   }
   ```

   Здесь `len(nums)` возвращает значение `5`, так как массив `nums` содержит пять элементов.

2. **Срезы**

   Для срезов функция `len()` также возвращает количество элементов, содержащихся в срезе:

   ```go
   package main

   import "fmt"

   func main() {
       nums := []int{10, 20, 30, 40, 50}
       fmt.Println("Длина среза:", len(nums)) // Вывод: 5
   }
   ```

   В этом примере срез `nums` также имеет длину `5`.

3. **Строки**

   Для строк функция `len()` возвращает количество байтов в строке:

   ```go
   package main

   import "fmt"

   func main() {
       str := "Привет"
       fmt.Println("Длина строки:", len(str)) // Вывод: 12 (так как каждый символ занимает несколько байт)
   }
   ```

   Здесь `len(str)` возвращает `12`, так как строка кодируется в UTF-8 и каждый символ может занимать больше одного байта.

### Функция `cap()`

Функция `cap()` возвращает емкость коллекции, то есть максимальное количество элементов, которые могут быть размещены в этой коллекции. Эта функция используется для массивов, срезов и каналов.

1. **Массивы**

   Для массивов емкость всегда равна их длине, так как массивы имеют фиксированный размер:

   ```go
   package main

   import "fmt"

   func main() {
       nums := [5]int{1, 2, 3, 4, 5}
       fmt.Println("Емкость массива:", cap(nums)) // Вывод: 5
   }
   ```

2. **Срезы**

   Для срезов емкость — это количество элементов от начала среза до конца базового массива. Рассмотрим пример:

   ```go
   package main

   import "fmt"

   func main() {
       nums := []int{10, 20, 30, 40, 50}
       subSlice := nums[1:4]
       fmt.Println("Длина subSlice:", len(subSlice)) // Вывод: 3
       fmt.Println("Емкость subSlice:", cap(subSlice)) // Вывод: 4
   }
   ```

   В этом примере длина `subSlice` равна `3`, так как он содержит элементы с индексами `1`, `2` и `3` из массива `nums`. Емкость `subSlice` равна `4`, так как она включает все элементы от `nums[1]` до `nums[4]`.

### Различия между `len()` и `cap()`

- **`len()`** возвращает количество элементов в коллекции, которые в данный момент доступны.
- **`cap()`** возвращает общую емкость коллекции, то есть максимальное количество элементов, которое коллекция может содержать без расширения.

### Применение `len()` и `cap()` в практике

Функции `len()` и `cap()` часто используются при работе с динамическими данными, чтобы отслеживать размеры коллекций и при необходимости управлять ими. Например, функция `append()` для добавления элементов в срез может увеличивать его емкость, если она не достаточна для размещения новых данных.

### Заключение

Функции `len()` и `cap()` в Go являются важными инструментами для работы с коллекциями данных. `len()` позволяет определить количество элементов, а `cap()` — емкость среза или массива. Эти функции помогают эффективно управлять данными и понимать структуру коллекций в Go. В следующей статье мы подробнее рассмотрим, как изменять и расширять срезы в Go для более гибкой работы с данными.
