---
metaTitle: Функция append в Go (Golang)
metaDescription: Узнайте, как функция append в Go (Golang) помогает эффективно работать с срезами, изучите синтаксис и особенности расширения функций
author: Олег Марков
title: Функция append в Go (Golang)
preview: Исследуйте функцию append в Go - как она работает, зачем нужна и как позволяет расширять срезы. Примеры и пояснения помогут вам быстро освоить её

---

## Введение

Дорогие читатели, если вы начинаете свое знакомство с языком программирования Go, вам непременно предстоит встретиться с таким важным элементом, как срезы (slices), а вместе с ними – и с функцией `append`. Эта функция – одна из ключевых в работе со срезами, поскольку позволяет гибко манипулировать данными и добавлять новые элементы в срез. Давайте разберемся, как все это работает и какие преимущества позволяет получить.

## Что такое срезы в Go

Прежде чем углубиться в детали функции `append`, давайте вкратце рассмотрим, что представляют собой срезы в Go. Срезы – это гибкие представления массивов, которые позволяют работать с секцией массива, не определяя точно его размер заранее. Они дают множество возможностей, включая удобное управление длиной и емкостью данных.

## Основы функции append

### Как работает append

Теперь, когда мы понимаем, что такое срезы, давайте перейдем к функции `append`, которая предназначена для добавления новых элементов к существующему срезу. Она принимает в качестве первого аргумента срез, а затем одно или более значений, которые требуется добавить. Эффективно функция увеличивает длину среза, создавая при необходимости новый массив большего размера и копируя в него данные. 

Смотрите, я покажу вам, как это работает. Взгляните на следующий пример кода:

```go
package main

import "fmt"

func main() {
    // Изначально у нас есть срез чисел
    numbers := []int{1, 2, 3}

    // Мы добавляем новое число к этому срезу
    numbers = append(numbers, 4)

    fmt.Println(numbers) // Вывод: [1 2 3 4]
}
```

### Множественное добавление

Вы также можете добавить сразу несколько элементов. Просто перечислите их через запятую, и Go сделает остальное. Давайте разберемся на следующем примере:

```go
package main

import "fmt"

func main() {
    numbers := []int{1, 2, 3}
    
    // Добавляем несколько чисел сразу
    numbers = append(numbers, 4, 5, 6)

    fmt.Println(numbers) // Вывод: [1 2 3 4 5 6]
}
```

Как видите, добавить несколько элементов одновременно – проще простого.

## Особенности использования append

### Срез из среза

Одной из замечательных особенностей `append` является возможность добавления элементов из одного среза в другой. Вот как это можно сделать:

```go
package main

import "fmt"

func main() {
    original := []int{1, 2, 3}
    additional := []int{4, 5}

    // Добавляем элементы из среза additional в оригинальный срез
    original = append(original, additional...)

    fmt.Println(original) // Вывод: [1 2 3 4 5]
}
```

Обратите внимание на `...` в конце `additional`. Это специальный оператор Go, который разворачивает срез в список отдельных аргументов. Теперь вы увидите, как это выглядит в коде.

### Управление емкостью

Функция `append` также позволяет управлять памятью с помощью такой характеристики, как емкость среза. Это может быть важно, если вы хотите оптимизировать производительность приложения. Когда емкости среза не хватает для добавления новых элементов, функция создаст новый массив с увеличенной емкостью. Это позволяет избежать частого перераспределения памяти. Покажу вам, как это реализовано на практике:

```go
package main

import "fmt"

func main() {
    s := make([]int, 0, 3) // Создаем срез с длиной 0 и емкостью 3
    fmt.Printf("Длина: %d, Емкость: %d\n", len(s), cap(s))

    s = append(s, 1, 2, 3)
    fmt.Printf("Длина: %d, Емкость: %d\n", len(s), cap(s))

    s = append(s, 4)
    fmt.Printf("Длина после перераспределения: %d, Емкость: %d\n", len(s), cap(s))
}
```

Здесь вы видите, как емкость среза автоматически увеличивается в случае его переполнения.

## Заключение

Докончим наше обсуждение функции `append` в Go, подведя основные итоги. `Append` – это мощный инструмент для управления срезами, который открывает широкие возможности для манипуляции данными, обеспечивая при этом производительность и простоту использования. Знание о том, как эффективно использовать `append`, позволяет писать более гибкий и оптимизированный код. Теперь, вооруженные знаниями и примерами, вы можете легко интегрировать эту функцию в свои проекты на Go. Надеюсь, эта статья оказалась полезной для вас!