---
metaTitle: Promise в JavaScript
metaDescription: Разбираемся как использовать Promise в JavaScript
author: Дмитрий Нечаев
title: Promise в JavaScript
preview: Учимся пользоваться Promise в JavaScript. Разбираем примеры использования
---

**Promise** в JavaScript — это объект, представляющий завершение или провал асинхронной операции и её результирующее значение. Промисы используются для управления асинхронным кодом, позволяя организовать его более читаемым и удобным образом, избегая так называемого "callback hell". Вот простой пример:

```jsx
let promise = new Promise(function(resolve, reject) {
  setTimeout(() => resolve("данные получены"), 1000);
});

promise.then(data => {
  console.log(data); // выводит "данные получены" после 1 секунды
});

```

В этом примере `Promise` создаётся с функцией, которая через секунду "разрешается" с некоторыми данными. `then()` используется для обработки этих данных после их получения.

Метод `Promise.race()` предоставляет возможность реагировать на первый выполненный или отклоненный промис из набора. Это мощный инструмент для управления асинхронными операциями, особенно когда важна скорость ответа. Чтобы полностью понимать возможности `Promise.race()`, необходимо уверенное знание основ работы с `Promise` и асинхронным JavaScript. Если вы хотите детальнее погрузиться в JavaScript — приходите на наш большой курс [JavaScript Advanced](https://purpleschool.ru/course/javascript-advanced?utm_source=knowledgebase&utm_medium=text&utm_campaign=metod-promise-race-v-javascript). На курсе 196 уроков и 18 упражнений, AI-тренажеры для безлимитной практики с кодом и задачами 24/7, решение задач с живым ревью наставника, еженедельные встречи с менторами.

## Методы

### Цепочки методов

Цепочка промисов позволяет последовательно выполнить несколько асинхронных операций. Каждый следующий метод `then` начинает работу только после того, как предыдущий промис разрешается.

```jsx
new Promise(function(resolve, reject) {
  setTimeout(() => resolve(1), 1000); // первый асинхронный шаг
}).then(function(result) {
  console.log(result); // выводит 1
  return result * 2;
}).then(function(result) {
  console.log(result); // выводит 2
  return result * 2;
}).then(function(result) {
  console.log(result); // выводит 4
});

```

### Обработка ошибок в цепочках методов

Для обработки ошибок в цепочках промисов используется метод `catch()`. Он перехватывает любые ошибки, возникшие на любом этапе выполнения цепочки.

```jsx
new Promise((resolve, reject) => {
  throw new Error("произошла ошибка");
}).catch(err => {
  console.error(err); // обрабатывает ошибку
});

```

## Другие полезные методы промисов

- **Promise.all([promises])**: Ожидает выполнения всех промисов. Если один из промисов отклоняется, результатом будет первая возникшая ошибка.
- **Promise.race([promises])**: Возвращает результат первого завершившегося промиса, независимо от того, был ли он разрешён или отклонён.
- **Promise.resolve(value)** и **Promise.reject(reason)**: Создают промисы, которые немедленно разрешаются или отклоняются соответственно.

## Как создать асинхронную функцию с промисом

Асинхронная функция возвращает промис и позволяет использовать асинхронный код, как будто он синхронный, с помощью ключевых слов `async` и `await`.

```jsx
async function fetchData() {
  let promise = new Promise((resolve, reject) => {
    setTimeout(() => resolve("данные загружены"), 1000);
  });
  const result = await promise; // ждёт, пока промис не разрешится
  console.log(result);
}

fetchData();

```

## Промисы схлопываются

Промисы могут "схлопываться", что означает, что промис может возвращать другой промис, и этот процесс продолжается до тех пор, пока не будет возвращён окончательный результат.

```jsx
let promise = new Promise(resolve => {
  resolve(new Promise(resolve => resolve(5)));
});

promise.then(console.log); // выводит 5

```

`Promise.race()` открывает двери к более сложному управлению асинхронностью. Однако, чтобы эффективно использовать этот и другие продвинутые методы, необходимо глубокое понимание асинхронного JavaScript. Курс [JavaScript Advanced](https://purpleschool.ru/course/javascript-advanced?utm_source=knowledgebase&utm_medium=text&utm_campaign=metod-promise-race-v-javascript) поможет вам в этом. В первых 3 модулях уже доступно бесплатное содержание — начните погружаться в мир продвинутого JavaScript прямо сегодня.
