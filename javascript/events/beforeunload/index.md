---
metaTitle: Событие beforeunload в JavaScript
metaDescription: Разбираемся как работает событие beforeunload в JavaScript
author: Дмитрий Нечаев
title: Событие beforeunload в JavaScript
preview: Учимся пользоваться событием beforeunload в JavaScript. Разбираем примеры использования
---

Событие `beforeunload` в JavaScript срабатывает непосредственно перед тем, как пользователь покидает веб-страницу. Это может происходить при закрытии вкладки, переходе на другой URL или перезагрузке страницы. Событие дает возможность запросить подтверждение у пользователя о намерении покинуть страницу, а также выполнить необходимые действия для сохранения данных или состояния работы. Эта статья рассмотрит использование `beforeunload` для улучшения пользовательского опыта и предотвращения потери данных.

### Как работает событие "beforeunload"?

Событие `beforeunload` привязывается к объекту `window` и может использоваться для отображения стандартного диалогового окна браузера, в котором пользователю предлагается подтвердить свое намерение покинуть страницу. Вы можете установить текст предупреждения, однако большинство современных браузеров по умолчанию игнорируют пользовательский текст в диалоговом окне по соображениям безопасности и используют стандартное сообщение.

### Пример использования события "beforeunload"

### Предупреждение пользователя о возможной потере данных

```jsx
window.addEventListener('beforeunload', function(event) {
    // Проверяем, есть ли несохраненные изменения
    if (formIsDirty) {
        // Стандартный текст будет проигнорирован большинством браузеров
        const message = 'На странице остались несохраненные изменения. Вы уверены, что хотите уйти?';
        event.returnValue = message; // Необходимо для Chrome
        return message; // Необходимо для некоторых других браузеров
    }
});

```

В этом коде, если в форме есть несохраненные изменения, пользователю будет предложено подтверждение на уход со страницы. `event.returnValue` должно быть установлено для обеспечения совместимости с различными браузерами.

Событие `beforeunload` позволяет перехватить попытку закрыть или перезагрузить страницу и отобразить пользователю предупреждение, чтобы предотвратить потерю данных. Оно часто используется для сохранения несохраненных изменений в формах, редакторах и других приложениях. Для эффективного использования этого события необходимо учитывать его особенности в разных браузерах и уметь предотвращать утечки памяти. Если вы хотите научиться создавать надежные веб-приложения, защищающие пользователей от потери данных, приходите на наш большой курс [JavaScript с нуля](https://purpleschool.ru/course/javascript-basics?utm_source=knowledgebase&utm_medium=text&utm_campaign=sobytie-beforeunload-v-javascript). На курсе 198 уроков и 30 упражнений, AI-тренажеры для безлимитной практики с кодом и задачами 24/7, решение задач с живым ревью наставника, еженедельные встречи с менторами.

### Особенности и рекомендации использования "beforeunload"

1. **Использование для важных предупреждений**: Используйте `beforeunload` только в случаях, когда действительно необходимо предотвратить потерю данных (например, при работе с онлайн-формами или редакторами).
2. **Ограничения на кастомизацию сообщений**: Браузеры не позволяют кастомизировать текст в диалоговом окне `beforeunload` для предотвращения мошенничества, поэтому пользователи увидят стандартное сообщение.
3. **Не злоупотреблять этим событием**: Частое использование `beforeunload` может негативно сказаться на пользовательском опыте, так как прерывает естественный процесс навигации по сайту.

### Заключение

Событие `beforeunload` является мощным инструментом в руках веб-разработчиков, позволяющим предотвратить потерю важных данных пользователем. Важно использовать это событие с умом, чтобы не создать лишние неудобства для пользователей. Правильно настроенное событие `beforeunload` может значительно повысить удобство и безопасность пользовательских данных при работе с веб-приложениями.

Управление жизненным циклом страницы с помощью событий, таких как `beforeunload` и `unload`, является важной частью создания удобных и надежных веб-приложений. Для обеспечения наилучшего пользовательского опыта необходимо учитывать различные способы взаимодействия пользователя с сайтом и уметь корректно обрабатывать все события, связанные с закрытием и перезагрузкой страницы. Если вы готовы расширить свой кругозор и изучить все аспекты управления жизненным циклом веб-приложения, обратите внимание на курс [JavaScript с нуля](https://purpleschool.ru/course/javascript-basics?utm_source=knowledgebase&utm_medium=text&utm_campaign=sobytie-beforeunload-v-javascript). В первых 3 модулях уже доступно бесплатное содержание — начните погружаться в мир продвинутого JavaScript прямо сегодня.
