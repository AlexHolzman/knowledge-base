---
metaTitle: Настройка Android Studio на React Native
metaDescription: Пошаговая настройка Android Studio для разработки React Native - инструкции, примеры, распространённые ошибки, интеграция эмулятора и запуск проектов на Android
author: Олег Марков
title: Настройка Android Studio на React Native
preview: Освойте настройку Android Studio для React Native - как установить инструменты, запустить эмуляторы, подключить проект и отлаживать приложения на Android
---

## Введение

Когда вы начинаете работать с React Native и собираетесь разрабатывать мобильные приложения под Android, правильная настройка среды разработки становится одним из ключевых шагов. Android Studio — официальный IDE от Google, который поставляет инструменты и эмуляторы Android SDK. Чтобы ваш проект React Native мог собираться и запускаться на Android, необходимо корректно установить, настроить Android Studio и интегрировать её с вашим проектом.

В этой статье я расскажу вам, как пошагово подготовить Android Studio для работы с React Native: от установки необходимых компонентов до запуска проекта на эмуляторе или физическом устройстве. Мы разберём детали, которые часто остаются неочевидными для новичков, поделюсь реальными примерами кода и дам советы для предотвращения распространённых проблем.

## Установка и подготовка Android Studio

Давайте начнем с самого первого шага: установки Android Studio и необходимых утилит.

Android Studio - это мощная IDE, которая предоставляет множество инструментов для разработки Android приложений на React Native. Правильная настройка Android Studio позволяет оптимизировать процесс разработки, отлаживать код и тестировать приложение на различных устройствах. Если вы хотите детально разобраться в настройке Android Studio для React Native и научиться использовать все его возможности — приходите на наш большой курс [React Native и Expo Router](https://purpleschool.ru/course/react-native?utm_source=knowledgebase&utm_medium=article&utm_campaign=Nastrojka-Android-Studio-na-React-Native). На курсе 184 уроков и 11 упражнений, AI-тренажеры для безлимитной практики с кодом и задачами 24/7, решение задач с живым ревью наставника, еженедельные встречи с менторами.

### Шаг 1. Скачивание и установка Android Studio

1. Перейдите на [официальный сайт Android Studio](https://developer.android.com/studio).
2. Скачайте установщик для вашей операционной системы (Windows, macOS, Linux).
3. Запустите установщик и следуйте указаниям:

   - На Windows обычно достаточно стандартной установки.
   - На macOS часто требуется перетащить пакет Android Studio в папку Applications.

4. После установки впервые откройте Android Studio — она предложит установить некоторые инструменты:

   - Android SDK (Software Development Kit)
   - Android SDK Platform-tools (ADB, fastboot и др.)
   - Android Virtual Device (AVD) Manager для создания эмуляторов

Проверьте, что все эти компоненты выбраны для установки. Это критически важно для интеграции с React Native.

### Шаг 2. Установка SDK и инструментов через SDK Manager

Зачастую после автоматической установки потребуется вручную добавить или обновить несколько компонентов:

1. Откройте Android Studio → **Preferences** (или **Settings** на Windows) → **Appearance & Behavior** → **System Settings** → **Android SDK**.
2. Перейдите на вкладку **SDK Platforms**:
   - Убедитесь, что отмечена, как минимум, одна стабильная версия Android (например, Android 12.0 - API Level 31, или выше).
3. Перейдите на вкладку **SDK Tools**:
   - Обязательно установите:
     - Android SDK Build-Tools (последняя версия)
     - Android SDK Platform-Tools
     - Android SDK Tools
     - Intel x86 Emulator Accelerator (HAXM installer для Windows/macOS с Intel-процессорами)
     - Android Emulator
   - Рекомендуется также отметить Google USB Driver (Windows) для работы с физическими устройствами.

Обратите внимание: иногда React Native требует конкретную версию build-tools. Вы сможете добавить дополнительные версии если столкнётесь с ошибками сборки.

### Шаг 3. Переменные среды (ANDROID_HOME и PATH)

Для корректной работы CLI-инструментов React Native и adb, важно прописать переменные среды.

#### На macOS/Linux

Откройте терминал и выполните:

```bash
# Задаём путь к Android SDK
export ANDROID_HOME=$HOME/Library/Android/sdk

# Добавляем нужные директории в PATH
export PATH=$PATH:$ANDROID_HOME/emulator
export PATH=$PATH:$ANDROID_HOME/tools
export PATH=$PATH:$ANDROID_HOME/tools/bin
export PATH=$PATH:$ANDROID_HOME/platform-tools
```

Я рекомендую дописать это в ваш `~/.bash_profile`, `~/.zshrc` или другой конфиг, который вы используете для вашего shell.

#### На Windows

1. Откройте Пуск → Настройки → Система → О системе → Дополнительные параметры системы.
2. Перейдите во вкладку "Дополнительно" → "Переменные среды".
3. Создайте новую переменную пользователя `ANDROID_HOME`, путь будет похож на:

   ```
   C:\Users\<ВашеИмя>\AppData\Local\Android\Sdk
   ```
   
4. Найдите переменную `Path` и добавьте следующие значения:

   ```
   %ANDROID_HOME%\platform-tools
   %ANDROID_HOME%\emulator
   %ANDROID_HOME%\tools
   %ANDROID_HOME%\tools\bin
   ```

Проверьте в новом терминале, что команда:

```bash
adb --version
```

отрабатывает успешно. Это будет означать, что всё подключилось правильно.

### Шаг 4. Проверка установки

Давайте удостоверимся, что всё настроено корректно:

#### Проверка SDK и adb

```bash
adb devices
```
Если список устройств пустой — ничего страшного, вы ещё не запускали эмулятор.

#### Проверка переменных среды

```bash
echo $ANDROID_HOME
# Или на Windows:
echo %ANDROID_HOME%
```

Если вы видите путь к Android SDK — всё отлично.

## Интеграция Android Studio с React Native

Теперь давайте настроим проект React Native для работы с Android Studio.

### Шаг 5. Создание нового проекта React Native

Для новых проектов используйте команду:

```bash
npx react-native init MyAwesomeApp
```

Здесь создаётся папка `android` внутри вашего проекта — это и есть полноценный Android-проект, открываемый в Android Studio.

Если вы работаете со старым проектом, просто убедитесь, что у вас есть папка `android`.

### Шаг 6. Открытие папки android в Android Studio

1. Откройте Android Studio.
2. Перейдите в меню File → Open и выберите папку `android` вашего проекта React Native.
3. Когда IDE спросит о настройках Gradle — выберите опцию синхронизации.

Обратите внимание: не открывайте всю папку проекта, а именно папку `android`. Android Studio воспринимает этот подкаталог как основной для Android-проекта.

### Шаг 7. Запуск эмулятора Android

#### Создание нового эмулятора

1. В Android Studio откройте **Tools → Device Manager** (или AVD Manager в некоторых версиях).
2. Нажмите "Create Virtual Device".
3. Выберите модель устройства (например, Pixel 5).
4. Скачайте образ системы — обычно рекомендуется последний стабильный образ Google APIs.
5. Следуйте инструкциям мастера и завершите создание устройства.

#### Запуск проекта на эмуляторе

1. Запустите созданный эмулятор (кнопка "Play" рядом с устройством).
2. В терминале запустите приложение:

```bash
npx react-native run-android
```

Если всё настроено правильно — приложение соберётся, запустится на эмуляторе и отобразит стартовый экран React Native.

### Шаг 8. Подключение физического устройства

Если у вас есть Android-смартфон — вы можете тестировать приложения на нем.

#### Включение отладки по USB

1. На телефоне откройте "Настройки" → "О телефоне".
2. Несколько раз подряд кликните на "Номер сборки" (Build Number) чтобы активировать меню разработчика.
3. Перейдите в новое меню "Для разработчиков" и включите "Отладка по USB" (USB debugging).
4. Подключите устройство к компьютеру.

Проверьте:

```bash
adb devices
```

Должно появиться ваше устройство в списке.

### Шаг 9. Запуск и отладка приложения

Используйте команду из корня проекта:

```bash
npx react-native run-android
```

Если всё настроено, приложение установится и запустится на выбранном устройстве или эмуляторе. В Android Studio можно открыть вкладку "Logcat" для просмотра логов приложения.

### Шаг 10. Использование Android Studio для ручной сборки и запуска

Если требуется ручной контроль, такой как запуск специфической конфигурации или сборка релиза:

1. В Android Studio откройте панель Build → Build Bundle(s) / APK(s) → Build APK(s).
2. Для сборки релизной версии настройте переменные keystore в файле `android/gradle.properties` и следуйте инструкции из [официальной документации React Native по подписыванию приложений](https://reactnative.dev/docs/signed-apk-android).

### Некоторые советы по работе с Android Studio и React Native

- **Обновляйте Gradle и плагины:** С каждой новой версией React Native может потребоваться более свежий Gradle либо плагины Android. Ориентируйтесь на сообщения об ошибках и при необходимости обновляйте зависимости.
- **Следите за версией Node.js и Java JDK:** React Native требует Node.js LTS и JDK 11 (или указанного в документации) для корректной работы.
- **Используйте консольные команды:** Даже при настройке через Android Studio основные команды (например, запуск, hot reload) работают через терминал проекта.

## Работа с эмуляторами и AVD в деталях

Я бы хотел уделить отдельное внимание работе с эмуляторами Android, поскольку через эмулятор проще всего быстро просматривать изменения.

### Работа с AVD Manager и настройкой эмулятора

#### Создание и настройка быстрого эмулятора

AVD Manager позволяет создавать профили для разных устройств и версий Android. Вот как это выглядит пошагово:

1. В Android Studio откройте **Device Manager**.
2. Нажмите "Create Virtual Device".
3. Выберите тип устройства (например, "Phone", "Tablet", "Wear OS").
4. Подберите образ системы — лучше Google APIs или X86 (они работают быстрее и поддерживают Play Market).
5. При настройке устройства выберите:
   - Количество оперативной памяти (RAM) — можно увеличить для лучшей производительности.
   - Фронтальная/задняя камера — опционально.
   - Дополнительные разметки экранов — для тестирования адаптивного UI.

#### Запуск и остановка эмулятора

Для запуска:

```bash
# Показывает все доступные эмуляторы
emulator -list-avds

# Запускает эмулятор с нужным именем
emulator -avd <имя_эмулятора>
```

#### Горячая перезагрузка приложения

React Native поддерживает hot reload:

- Нажмите `R` дважды в Metro Bundler (`npx react-native start`), чтобы перезапустить JS код без полной сборки.
- В приложении откройте меню разработчика (Cmd+M в эмуляторе на macOS, Ctrl+M на Windows), чтобы включить debug-параметры.

### Использование Logcat для отладки

В Android Studio есть окно Logcat — оно позволяет просматривать логи устройства или эмулятора. Фильтруйте по приложению, чтобы видеть только относящееся к вашему проекту.

```java
// Пример фильтра: поиск ключевого слова в логах
Log.d("ReactNative", "Example log message"); // Вывод лога в Logcat
```

### Настройка отладчика

Вы можете использовать встроенный отладчик Android Studio, но React Native обычно подключается к Chrome DevTools или Flipper. Для продвинутой отладки нативных модулей удобно через Android Studio:

- Откройте нужный Java/Kotlin-файл.
- Поставьте breakpoint.
- Используйте пункт Run → Debug на нужной сборке.

## Взаимодействие с проектом Android из React Native

Часто требуется подключить нативные модули или изменить исходный Android-код.

### Открытие MainActivity и AndroidManifest.xml

Путь: `android/app/src/main/java/com/myawesomeapp/MainActivity.java`  
— здесь можно расширять Activity, интегрировать сторонние библиотеки.

Для разрешений или специальных настроек используйте:  
`android/app/src/main/AndroidManifest.xml`

### Добавление зависимостей

Если библиотека требует изменений в Gradle:

```gradle
// Пример Depndency в android/app/build.gradle
dependencies {
    implementation "com.facebook.react:react-native:+"
    // Добавьте другие необходимые библиотеки
}
```

Также обновляйте версию `minSdkVersion`, если библиотека этого требует.

### Сборка релизной версии APK

Для публикации приложения:

1. Настройте файл `android/gradle.properties` для хранения переменных подписи.
2. Убедитесь, что `build.gradle` использует вашу подпись.
3. Соберите проект:

```bash
cd android
./gradlew assembleRelease
```

Готовый APK будет лежать в `android/app/build/outputs/apk/release/`.

## Проблемы и их решения

Работа с Android Studio и React Native иногда сопровождается багами и типичными ошибками. Вот несколько примеров и советов по их диагностике.

### Проблема: Эмулятор не видит приложение

- Проверьте, что эмулятор запущен, а `adb devices` выводит устройство.
- Иногда помогает перезапустить эмулятор или сбросить данные (wipe data).
- Проверьте настройки x86 эмулятора и наличие HAXM на поддерживаемых платформах.

### Проблема: "SDK location not found" или "No build tools found"

- Проверьте переменную `ANDROID_HOME`.
- Проверьте папку сборки (File → Project Structure → SDK Location).
- Установите нужные версии build-tools через SDK Manager.

### Проблема: Превышено время сборки Gradle

- Увеличьте выделенный объем памяти для Gradle (`gradle.properties`, опция `org.gradle.jvmargs=-Xmx2048m`).
- Отключите антивирус или фаервол, если подозреваете задержки на чтение/запись файлов.
- Используйте более быстрый диск (например, SSD).

### Проблема: Старая версия JDK

- Android Studio и React Native (после 0.71+) рекомендуют использовать JDK 11.
- Проверьте версию командой `java -version`.

Если всё равно возникают трудности с настройкой окружения — попробуйте удалить и заново установить Android Studio, очистить кэш Gradle и пересобрать проект.

## Заключение

Настройка Android Studio для разработки под React Native — процесс несложный, но требует внимательного отношения к деталям: правильная установка SDK, настройка переменных среды и понимание работы с эмуляторами. После описанных выше шагов вы сможете легко создавать, тестировать и отлаживать мобильные приложения на Android через React Native. Для большинства задач основным интерфейсом по-прежнему остается командная строка — Android Studio нужна преимущественно для работы с нативными модулями, подписыванием APK и углублённой отладкой. Если вы будете следовать инструкциям по шагам, проблем возникать не должно.

Android Studio - это незаменимый инструмент для разработки Android приложений, но его возможности раскрываются в полной мере только при глубоком понимании принципов работы React Native. Для создания полноценного приложения необходимо освоить множество других технологий и подходов, включая работу с UI, данными и нативными функциями. Курс [React Native и Expo Router](https://purpleschool.ru/course/react-native?utm_source=knowledgebase&utm_medium=article&utm_campaign=Nastrojka-Android-Studio-na-React-Native) поможет вам в этом. В первых 3 модулях уже доступно бесплатное содержание — начните погружаться в мир React Native прямо сегодня.

## Частозадаваемые технические вопросы по теме статьи и ответы на них

### Как решить ошибку "Could not connect to development server" при запуске React Native на Android?

Проверьте, что Metro Bundler (JavaScript-сервер) стартован. В терминале из корня проекта выполните:

```bash
npx react-native start
```
Если устройство — физический смартфон, проверьте, что оно подключено к одной Wi-Fi сети с компьютером и настройте порт 8081.

### Как обновить версию SDK или Build Tools, если требуется новая версия для библиотеки?

Откройте Android Studio → Preferences/Settings → Appearance & Behavior → System Settings → Android SDK → вкладка SDK Tools. Установите необходимые инструменты. Затем в файле `build.gradle` измените `compileSdkVersion` и `buildToolsVersion` на более новые значения.

### Где искать логи JavaScript и Crash-репорты?

Откройте терминал, запустите:

```bash
npx react-native log-android
```
Для нативных падений используйте Logcat в Android Studio, установив фильтр по пакету вашего приложения.

### Как добавить кастомный нативный модуль Android в React Native?

Внутри папки `android/app/src/main/java/com/yourapp/` создайте новый Java/Kotlin-класс, реализуйте нужный функционал и зарегистрируйте его в Package. Не забудьте пересобрать проект.

### Как включить поддержку Hermes в проекте React Native для Android?

Откройте файл `android/app/build.gradle`, найдите блок `project.ext.react` и добавьте `hermesEnabled: true`. Проверьте соответствие версии Hermes и React Native, затем пересоберите проект командой:

```bash
cd android && ./gradlew clean && cd .. && npx react-native run-android
```
Hermes ускоряет запуск и работу приложения, но требует синхронизации зависимостей.
