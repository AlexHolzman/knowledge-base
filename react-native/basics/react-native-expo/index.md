---
metaTitle: Что такое React Native Expo — как начать работу и зачем он нужен
metaDescription: Объясняем что такое React Native Expo — зачем нужен этот инструмент, как он помогает разрабатывать кроссплатформенные приложения и ускоряет создание мобильных проектов
author: Екатерина Смирнова
title: Что такое React Native Expo и зачем он нужен
preview: Узнайте для чего нужен React Native Expo и как он помогает быстро создавать кроссплатформенные мобильные приложения. Руководство с примерами и объяснениями
---

## Введение

Если вы задумались о разработке мобильных приложений на JavaScript или уже знакомы с React Native, наверняка встречали термин Expo. Многие разработчики используют Expo как стартовую платформу для создания мобильных приложений, ведь она позволяет упростить многие этапы работы, от первого запуска прототипа до публикации настоящего приложения в App Store и Google Play.  

Но что такое Expo на самом деле, какие задачи решает и зачем он нужен именно вам? Давайте разберёмся подробно, как устроен этот инструмент, когда его стоит применять, чем он поможет ускорить вашу работу и какие ограничения стоит учитывать.

## Что такое React Native Expo

Expo — это open source платформа, построенная поверх React Native, предназначенная для облегчения и ускорения процесса разработки кроссплатформенных мобильных приложений. Проще говоря, это набор инструментов и сервисов, которые позволяют вам писать приложения на JavaScript/TypeScript с помощью React Native и сразу видеть результат на реальных устройствах или эмуляторах.

Expo берёт на себя множество рутинных задач и избавляет новичков от сложностей, связанных с инфраструктурой проекта, настройками Android Studio, Xcode, Gradle, CocoaPods и так далее. Вот несколько ключевых составляющих платформы Expo:

- **Expo CLI** — командная строка для инициализации, запуска и сборки проектов.
- **Expo Go App** — мобильное приложение для быстрого тестирования вашего кода на реальном устройстве без сборки apk/ipa файлов.
- **Expo SDK** — коллекция готовых React Native компонентов и API, которые работают «из коробки».
- **Expo Application Services (EAS)** — облачные сервисы для сборки, публикации и апдейта приложений.

Expo — отличный способ быстро начать разработку даже с базовым знанием JavaScript и React. Ниже я покажу, как с этим работать.

## Сценарии использования Expo

### Когда стоит использовать Expo

- **Быстрые прототипы.** Можете сразу приступить к написанию приложения и быстро получить рабочий результат.
- **Старт для новичков.** Expo готовит за вас большую часть инфраструктуры, позволяя сосредоточиться на логике приложения.
- **Кроссплатформенность.** Один и тот же код — для iOS и Android. Нет необходимости разбираться в специфике обеих платформ.
- **Тестирование на реальных устройствах.** Скачайте Expo Go, отсканируйте QR-код и моментально запустите своё приложение.

### Когда Expo может не подойти

- **Вам нужны кастомные нативные модули, которых нет в Expo SDK.** В этом случае понадобится переход в так называемый "ejected" режим (Bare Workflow).
- **Интеграция нестандартных сторонних библиотек, требующих нативных изменений.**
- **Серьёзные оптимизации на уровне платформы.** Иногда кастомизация требует ручной работы с Android/iOS кодом.

## Как работает Expo: структура и основные возможности

### Как устроен типичный проект на Expo

Когда вы создаёте новый проект через Expo CLI, он включает всё необходимое для быстрого старта: конфигурационный файл (`app.json` или `app.config.js`), папку `assets`, ваш основной JavaScript-файл и зависимости. Вы не работаете напрямую с Android/iOS проектами — всё это прячет от вас Expo.

Вот пример инициализации простого приложения:

```
# Установка Expo CLI (если у вас ещё не установлен)
npm install -g expo-cli

# Создание нового проекта
expo init MyAwesomeApp

# Переход в папку и запуск проекта
cd MyAwesomeApp
expo start
```

После запуска `expo start` откроется Metro Bundler в браузере — это "сердце" девелопмента на React Native. Вы увидите QR-код для запуска на смартфоне или эмуляторе.

### Как приложение запускается на устройстве

Expo Go играет важную роль — это обычное приложение из App Store/Google Play, внутри которого запускаются ваши JavaScript-коды. Вы можете отсканировать QR-код (iOS — через Камеру, Android — в Expo Go) и почти мгновенно увидеть свой проект на экране. Не нужно каждый раз собирать проект под каждую платформу. Это экономит массу времени на тестирование.

### Expo SDK: что есть и как использовать

Expo поставляется с целым набором API для работы с возможностями устройства. Перечислю основные направления:

- Доступ к камере, микрофону, GPS, акселерометру, гироскопу, вибрации
- Работа с файловой системой
- Push-уведомления
- Сканирование QR-кодов
- Использование сенсоров
- Аутентификация через социальные сети
- Управление изображениями и видео

**Пример:** Давайте я покажу, как использовать камеру с помощью Expo:

```javascript
import React, { useRef, useState } from 'react';
import { Button, StyleSheet, View } from 'react-native';
import { Camera } from 'expo-camera';

export default function App() {
  const [hasPermission, setHasPermission] = useState(null);
  const cameraRef = useRef(null);

  React.useEffect(() => {
    (async () => {
      // Запрашиваем разрешение на использование камеры
      const { status } = await Camera.requestCameraPermissionsAsync();
      setHasPermission(status === 'granted');
    })();
  }, []);

  if (hasPermission === null) {
    return <View />; // Ожидание разрешения
  }
  if (hasPermission === false) {
    return <Text>Нет доступа к камере</Text>;
  }

  // Пример снимка кадра
  const takePicture = async () => {
    if (cameraRef.current) {
      let photo = await cameraRef.current.takePictureAsync();
      console.log(photo); // Фото сохранено во временной папке приложения
    }
  };

  return (
    <View style={styles.container}>
      <Camera style={styles.camera} ref={cameraRef} />
      <Button title="Сделать фото" onPress={takePicture} />
    </View>
  );
}

const styles = StyleSheet.create({
  container: { flex: 1 },
  camera: { flex: 1 }
});
```

Весь пример работает «из коробки» без ручных настроек AndroidManifest.xml или Info.plist. Expo конфигурирует проект сам.

### Работа с ассетами (картинки, шрифты, звуки)

Expo умеет автоматически подхватывать локальные ассеты из папки `assets`, следит за их обновлением и умеет оптимизировать ресурсы при сборке приложения.

**Пример загрузки фонта:**

```javascript
import * as Font from 'expo-font';
import AppLoading from 'expo-app-loading';

const fetchFonts = () =>
  Font.loadAsync({
    'Montserrat-Regular': require('./assets/fonts/Montserrat-Regular.ttf'),
  });

export default function App() {
  const [fontLoaded, setFontLoaded] = useState(false);

  if (!fontLoaded) {
    // Показывает сплэш-экран, пока не загрузятся все ресурсы
    return (
      <AppLoading
        startAsync={fetchFonts}
        onFinish={() => setFontLoaded(true)}
        onError={console.warn}
      />
    );
  }
  // Теперь все шрифты доступны вашему приложению
  return <Text style={{ fontFamily: 'Montserrat-Regular' }}>Пример текста</Text>;
}
```

### Build, Publish, Over-the-Air Updates (OTA)

Экспо предлагает сервисы для сборки и публикации приложений:

- **expo build:** (устаревшая команда) — удалённая сборка apk/ipa без установки Android Studio/Xcode.
- **EAS Build:** современный облачный сервис для гибкой сборки с поддержкой нативных модулей.
- **expo publish:** мгновенные обновления JS-кода без повторной публикации в магазин (OTA Updates).

**Пример публикации и обновления:**

```bash
expo publish
```

Ваши пользователи получат апдейт автоматически — достаточно открыть приложение с интернетом.

**Сборка приложения под публикацию:**

```bash
eas build --platform android
eas build --platform ios
```

EAS Build по SSH и API-ключам собирает продакшн-версии для магазинов. Вам не нужно иметь под рукой macOS для публикации на iOS — это огромный плюс для многих команд.

### Bare Workflow: переход за рамки Expo

Если необходимы нестандартные нативные модули, Expo разрешает перейти на так называемый Bare Workflow: структура проекта становится классической для React Native, но вы всё ещё можете использовать многие возможности из пакета Expo. Однако вся ответственность за нативные части теперь на вас.

## Сравнение с «чистым» React Native

Expo решает множество проблем типичных для нативной разработки:

|                              | Expo (Managed)        | React Native (Bare)  |
|------------------------------|-----------------------|----------------------|
| Стартовый шаблон             | Обогащён SDK и CLI    | Минимальный шаблон   |
| Обновления JavaScript        | OTA через expo.publish| Требует сборки       |
| Сборка APK/IPA               | Через облако (EAS)    | Требует Xcode/AS     |
| Работа с нативным кодом      | Ограничена            | Неограничена         |
| Установка зависимостей       | Чаще всего проще      | Можно сложнее        |
| Входной порог                | Ниже, особенно для JS | Выше — нужны знание iOS/Android |

Expo часто сравнивают с create-react-app — быстрый старт для большинства, дальнейшая кастомизация доступна, если потребуется.

## Интеграция с популярными сервисами

Expo предоставляет готовую интеграцию с:

- Sentry и Bugsnag (мониторинг ошибок)
- Firebase (авторизация, база данных, storage и аналитика)
- Over-the-air updates
- Push-уведомления через собственный API  
- Поддержка Deep Linking, App Links, Universal Links

Специальные SDK-модули для соцсетей и сервисов оплаты подключаются буквально одной строкой.

## Краткие инструкции: пошаговый пример создания проекта

Вот простой путь, как создать и запустить Expo-приложение.

1. Установите Expo CLI, если у вас его нет:
   ```
   npm install -g expo-cli
   ```
2. Инициализируйте новый проект:
   ```
   expo init HelloExpo
   ```
3. Перейдите в папку и стартуйте:
   ```
   cd HelloExpo
   expo start
   ```
4. На телефоне скачайте Expo Go, отсканируйте QR-код и запустите.

## Расширение возможностей и ограничения Expo

### Что нельзя сделать в Managed Workflow

- Использовать сторонние библиотеки, требующие нативных модификаций (например, нестандартный Bluetooth модуль)
- Вносить правки в Info.plist или AndroidManifest.xml напрямую
- Использовать новейшие фичи React Native до их поддержки в Expo SDK
- Подключать устаревшие или редкие нативные API iOS/Android

В Bare Workflow этих ограничений нет, но добавится необходимость работы с Xcode/Android Studio.

### Как перейти в Bare Workflow

Если нужно добавить кастомные нативные модули, выполните:

```
expo eject
```

Это переключит проект на «обычный» React Native, но вы по-прежнему сможете использовать Expo SDK для поддерживаемых функций.

## Заключение

Expo — популярная платформа для разработки мобильных приложений с помощью React Native. С его помощью можно быстро и без особых усилий запустить прототип, печь MVP или даже выпустить крупное приложение, не вникая в подводные камни нативной настройки. Expo берёт на себя управление зависимостями, деплой, обновления, конфигурирование ассетов — всё, что отвлекает от основной задачи.

Это отличный выбор для новичков и команд, которым важно быстро показать результат или создать несложные мультиплатформенные проекты. Если со временем проекту понадобится больше специфичных нативных функций, всегда можно перейти к более низкоуровневому контролю, используя Bare Workflow.

## Частозадаваемые технические вопросы по теме статьи и ответы на них

### Как добавить модуль, не входящий в Expo SDK, но требующий нативных изменений?

Если вам нужна библиотека, которая требует изменений на уровне Android/iOS (например, нестандартный Bluetooth), используйте команду `expo eject` для перехода в Bare Workflow. После этого работайте как с привычным проектом React Native — устанавливайте npm-пакет, следуйте документации к нему по внесению изменений в проекты Android и iOS.

### Как подключить Firebase к Expo-приложению без Bare Workflow?

Expo поддерживает работу с большинством возможностей Firebase через пакет [expo-firebase](https://docs.expo.dev/guides/using-firebase/). Для аналитики, авторизации, хранения и работы с базой данных– используйте эти модули или стандартный SDK firebase-js.

```javascript
import firebase from 'firebase/app';
import 'firebase/auth';
// Инициализация, как в обычном веб-проекте
```
Однако для Cloud Messaging (push-уведомлений) понадобится Bare Workflow.

### Как управлять секретами/переменными окружения в Expo?

Expo рекомендует использовать файл `.env` вместе с пакетом [expo-constants](https://docs.expo.dev/versions/latest/sdk/constants/) или средствами, такими как [react-native-dotenv](https://github.com/goatandsheep/react-native-dotenv). В EAS Build поддерживаются секреты на уровне конфигов.

### Можно ли обновлять JS-код приложения без публикации в магазины?

Да. Expo поддерживает Over-the-Air updates — любые изменения JS-кода и ассетов можно доставлять пользователю сразу после публикации через `expo publish`. Обновление произойдёт при следующем запуске приложения на устройстве с интернетом.

### Как уменьшить размер итогового приложения, собранного через Expo?

Используйте оптимизацию ассетов (команда `expo-optimize`), удаляйте неиспользуемые модули из зависимостей, используйте slimmer-иконки и картинки, минимизируйте ассеты, не подключайте ненужные части Expo SDK при сборке через EAS — указывайте только необходимые в app.json.

---

